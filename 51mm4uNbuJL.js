(function(z){var D=window.AmazonUIPageJS||window.P,J=D._namespace||D.attributeErrors,d=J?J("DPTwisterPlusDesktopConfiguratorAssets",""):D;d.guardFatal?d.guardFatal(z)(d,window):d.execute(function(){z(d,window)})})(function(z,D,J){z.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(d,k,r,t,n,f,v,y,x,p){(p?p.inlineTwisterData||{}:{}).inlineTwisterEnabled&&(f=new f,new k(p,r.Row,t,n,f,v,y,x),d.trigger("desktop-configurator-view-initialized"))});"use strict";z.when("A").register("desktop-configurator-dimension-handler",function(d){function k(d){this.numberOfDimensionsExpandedOnLanding=d.numberOfDimensionsExpanded||0;this.expandAllDimensions=-1===
this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=d.maxNumberOfDimensionsExpanded||1}k.prototype={registerDimension:function(d,k){this.dimensionKeyRowMap[d]=k;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(d)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=Object.keys(this.dimensionKeyRowMap).length)},
expandDimension:function(d){-1===this.expandedDimensionList.indexOf(d)&&this.expandedDimensionList.push(d);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var k=0;k<this.expandedDimensionList.length&&(this.expandedDimensionList[k]!==d&&this.dimensionKeyRowMap[this.expandedDimensionList[k]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);k++);},collapseDimension:function(d){d=this.expandedDimensionList.indexOf(d);-1!==d&&this.expandedDimensionList.splice(d,
1)}};return k});"use strict";z.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(d,k,r){function t(f,v,t,x,p,w,B,q){function e(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function b(){if(!G)return 0===f.unselectedDimCount;var a=h();return!!G.util.getAsinFromSelectionInfo(a)}function a(a,b,c,h,l,e,d,u,m,q,f,n){return{text:a,image:b||"",popoverImage:c||
"",name:h,id:f+"_"+h,selected:l,slotHtm:e,showSlot:d,isVisible:u,unavailable:m,defaultSlotUnavailable:X,isCirclularImageSwatch:g.inlineTwisterData&&"CIRCLE"===g.inlineTwisterData.swatchShape,asin:q,pageUrl:n}}function l(a){R[a]||null===K[a]||(a=g.rows[a],a.toggleSwatch&&a.toggleSwatch.removeMisplacedSwatch())}function m(a,b){var c=S.unselectedDimensionPrompt||"",h=f&&f.variationDisplayLabels?f.variationDisplayLabels[a]:"",l=f&&f.variationValues?f.variationValues[a][b]:"";return{dimKey:a,titleSelectorPrefix:"inline-twister-dim-title-",
titleValueSelector:"inline-twister-dim-title-value",mainText:h,subText:-1!==b?l:c.replace("###dimension",h||"")}}function h(){if(!G){var a=[];d.each(g.dimList,function(b){a.push({dimKey:b,val:f.selectedVariationValues?f.selectedVariationValues[b]:-1})});return a}return G.state()}function c(){return d.map(g.dimList,function(a,b){if(!g.isSingletonMap[a])return new r(function(c){u(g.rows[a],a,b);c()})})}function u(c,h,l){var e=g.inlineTwisterData.slotsEnabledDimensions,u=!!((g.dimList.length===e.length?
e[l]:e[0])&&b(h));l=f.variationValues[h];var m=c.getInitialVisibleSwatchList(),q=[];d.each(l,function(b,c){b=a(b,Y[h+"::"+c],Z[h+"::"+c],c,g.initSelectionState[h].val===c,m[c]?m[c].slotHtm:"",u,m[c]&&m[c].isVisible,m[c]&&m[c].unavailable,J,h,O[h]?O[h][b]:null);q.push(b)});g.swatches[h]=q}function H(){d.each(g.rows,function(a){g.isSingletonMap[a.dimKey]||(a.createDisplaySwatches(),a.adjustSwatchWidthAndSpacing(),g.textSwatchMap[a.dimKey]&&a.toggleSwatch.alignTextSwatches())})}function A(){function c(b,
h,l){var e,m,u,q=b.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),n=f.variationValues[h]||[],p=g.inlineTwisterData.inlineVariationsSize,v=-1,H=p,A=[],k=null;-1===p&&(v=parseInt(b.expanderContent.attr("data-swatchCountPerRow"))||q.length,H=v*N[h]);d.each(q,function(c,g){var d=parseInt(c.getAttribute("data-idxInToggleSwatchList")),q="true"===c.getAttribute("data-initiallySelected"),f="true"===c.getAttribute("data-initiallyUnavailable");e=c.getAttribute("data-asin");
m=d;u=n[d]||"";var r,t,w;r=Y[h+"::"+m];t=Z[h+"::"+m];w=u;f=a(w,r,t,m,q,"",l,!0,f,e,h,O[h]?O[h][w]:null);b.toggleSwatch&&(r=b.toggleSwatch.createSwatch(f,c),f.isVisible=r.isVisible);A.push(f);q&&g>=H&&(K[h]=d);-1!==p&&-1===v&&(c=c.getBoundingClientRect().top,null===k?k=c:c!==k&&(v=g))});-1!==p&&(-1===v&&(v=q.length),N[h]=Math.ceil(q.length/v));g.inlineVariationsSize[h]=q.length;b.toggleSwatch&&b.toggleSwatch.setNumberOfSwatchesPerRow(v);return A}function u(a,c,h){var l=!(!a||!b(c)),e=g.rows[c].getInitialVisibleSwatchList();
l&&d.each(e,function(b){if(!b.unavailable){var l=q.updateIfCurrentlyActive.bind(q,b.id),l=g.slotManager.get(b.asin,c,g.noOfLoadingIndicator,!1,aa,l,h);b.updateSlotNode({showSlot:a,slotHtm:l},!1,c)}})}function p(a,c,b){a={dimIndex:g.dimIndexMap[a],dimValueIndex:c};c=k.DP_STATE_VIEW_SUBTYPE;var l=g.dimensionsMap,e;e=h();for(var m=k.CHAR_UNDERSCORE,d=[],u=0;u<g.dimensionsMap.length;u++){var q=e[u].val;-1===q&&(q=k.CHAR_ASTERISK);d.push(String(q))}e=m?d.join(m):d;return{divMetadata:a,eventType:b,subType:c,
dimensionsMap:l,currDimCombId:e}}var H=h(),A=0,t={},r=g.inlineTwisterData.slotsEnabledDimensions,w=g.inlineTwisterData.popoverSlotsEnabledDimensions;n.each(H,function(a,c){t[c.dimKey]=c;g.dimIndexMap[c.dimKey]=a;g.dimensionsMap[a]=c.dimKey});g.initSelectionState=t;n.each(g.dimList,function(a,c){var b=t[c].val;a=E(c);var b=m(c,b),l=!(!U&&(g.dimList.length===r.length?r[A]:r[0])),e=-1!==V.indexOf(c);g.textSwatchMap[c]=a;a=new v("inline-twister-row-",b,{showSlot:!1,dimKey:c,inlineTwisterData:g.inlineTwisterData},
{handleDimensionExpansion:function(a,b,m){c=a.dimKey;if(m){g.dimensionHandler.expandDimension(c);a=J;m={};W[c]?(m=F(g.swatches[c],b,c,h(),!1,!e,l,!!g.dimensionsExpandedInline[c]),g.indexTranslationMap[c]=m,a={swatches:g.swatches[c]}):(u(b,c,l),W[c]=!0);var d=g.rows[c];d.setState(a,m,L,null,!1);I(b,d,c);g.logger.logDimensionExpanded(c);e||(K[c]=null)}else g.dimensionHandler.collapseDimension(c),g.logger.logDimensionCollapsed(c)}},g.logger);g.rows[c]=a;A+=1});0===g.inlineTwisterData.numberOfDimensionsExpanded&&
(e(),ba=!0);A=0;n.each(g.dimList,function(a,e){function m(c,a,b){if(a){var h=parseInt(a.buttonName,10),l=c[h]&&c[h].id?c[h].id:"";e=a.buttonGroupName;c[h]&&c[h].selected&&g.logger.logSelectedSwatchClick();l&&q.exists(l)&&q.hide(l);L=e;c={dimKey:e,val:h};D.newTwisterInteractionStartTime=new Date;g.twister.metaData(p(e,h,k.viewEvents.CLICK));g.twister.dimensionChanged(c);g.logger.logDimensionValueClick();b&&g.logger.logDimValueClickAfterAutoUpdate()}}function u(c,a){var l=a.data,e=a.type;a=a.$currentTarget;
var m=l.id,d=!!b(c),d=P&&d&&Q,d=l.showImageInPopOver||d,f=!Q,v=[];if(l){if(e===k.viewEvents.MOUSE_ENTER){var n=parseInt(l.name,10);v.push({dimKey:c,val:n});d&&q.show(m,a,l,f)}else d&&q.hide(m),v=h();G&&(g.twister.metaData(p(c,n,e)),g.twister.dimensionPeek(v));L=c}}function v(c,a){var b=parseInt(c.buttonName,10),h=g.swatches[a];(h?h[b]:J)?(C.setUserInteracting(!0),d.delay(function(){m(h,c)},350),g.logger.logSecViewSwatchClick()):z.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+
b+" ; Swatch length: "+g.swatches[a].length,ca.ERROR,ca.ATTRIBUTION)}function H(c,a){g.isSideSheetOpen=a;g.isWindowResizedAfterSideSheetOpen&&!a&&n.each(g.dimList,function(c,a){g.textSwatchMap[a]&&(x(a),(c=g.rows[a])&&c.toggleSwatch&&(c.toggleSwatch.alignTextSwatches(),c.toggleSwatch.preserveNaturalSwatchOrder&&c.toggleSwatch.alignTextSwatchNodesInLastRow()))});g.isWindowResizedAfterSideSheetOpen=!1}function t(c,a,b){var e=S.desktopConfiguratorAllOptionsString||"",m=g.swatches[c].length,u={dimensionDisplayText:b.mainText,
displayValueText:b.subText,dimKey:c,getSwatchInfo:C.getSwatch.bind(C),destroyPopover:q.destroy,optionsText:e,totalValueCount:m,isTextSwatch:E};g.sideSheet.open(u);var f={swatches:g.swatches[c]};d.delay(function(){var b=F(g.swatches[c],a,c,h(),!0,!1,B,!1);T&&l(c);C.setState(f,b,L,null,!0,!0);g.sideSheet.update(u);R[c]=!0;d.delay(function(){E&&I(a,C,c,!0);E&&C.toggleSwatch&&m<k.TEXT_ALIGNMENT_LIMIT&&C.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);g.isSideSheetOpen=!0;g.isWindowResizedAfterSideSheetOpen=
!1;g.logger.logSeeAllLinkClick("Dimension"+(g.dimIndexMap[c]+1))}function y(c,a,b){var e=C.expanderContent.height();C.setMaxHeight(e);var m={swatches:g.swatches[c]};if(b)b=(da-N[c]+1)*e,e=F(g.swatches[c],a,c,h(),!1,!1,B,!0),T&&l(c),C.setState(m,e,L,null,!1,!0),C.triggerExpandOrCollapseAnimation(b,500),I(a,C,c),E&&C.toggleSwatch&&C.toggleSwatch.alignTextSwatches(!0),g.dimensionsExpandedInline[c]=!0,R[c]=!0,g.logger.logSeeAllLinkClick("Dimension"+(g.dimIndexMap[c]+1));else{b=e;a=C.getDisplaySwatches();
for(e=N[c];e<a.length;e++){for(var d=!1,u=J,q=0;q<a[e].length;q++)if(u=a[e][q]?a[e][q].domNode:null){var f=parseInt(u.attr("data-idxInToggleSwatchList"),10),f=m.swatches[f];f.selected&&(d=!0);f.isVisible=f.selected}!d&&u&&(b-=u[0].scrollHeight)}C.triggerExpandOrCollapseAnimation(b,250,function(){C.setState(m,{},L,null,!1)});g.dimensionsExpandedInline[c]=!1}}function x(c){G&&(g.isWindowResizedAfterSideSheetOpen=!0,g.isSideSheetOpen||(I(g.showSlotMap[c],g.rows[c],c,!1),g.sideSheet.refreshWidth()))}
var E=g.textSwatchMap[e];a=[];var M=!U&&(g.dimList.length===r.length?r[A]:r[0]),Q=g.dimList.length===w.length?w[A]:w[0],B=!M,P=M||Q,T=-1!==V.indexOf(e),C=g.rows[e];g.showSlotMap[e]=P;N[e]=g.inlineTwisterData.numOfRowsPerDimension;M=-1!==f.singletonDimensionKeys.indexOf(e);g.isSingletonMap[e]=M;A+=1;!M&&C&&(M=!(!P||!b(e)),K[e]=null,a={name:e,swatches:a,isTextSwatch:E,onChange:m,onHover:u,hideSlotsFromMainView:B,totalSwatchCount:(f.variationValues[e]||[]).length,preserveNaturalSwatchOrder:T},g.sideSheet.registerToggleButtonGroup(e,
v,H),C.initializeComponents(a,P,{showSideSheet:t,toggleInlineExpansion:y,handleWindowResize:x}),g.dimensionHandler.registerDimension(e,C),a=c(C,e,M),g.swatches[e]=a)});ba||e()}function E(c){var a=!0;(g.inlineTwisterData.disableImageSwatch===J?0:g.inlineTwisterData.disableImageSwatch)||(a=!g.inlineTwisterData.imageDimensionKeysMap[c]);return a}function F(c,a,h,e,m,u,f,v){var p=!(!a||!b(h));a=G.util.getDimAvailability(h,e);var H=-1!==V.indexOf(h),A=d.state("filteredAvailability");if(A!==J&&!0===A.filterApplicable&&
1===e.length){for(var k={},r=0;r<A.asins.length;++r)k[A.asins[r]]=1;for(var A=[],t=[],r=0;r<a.available.length;++r){var w=a.available[r];w.asin in k?A.push(w):t.push(w)}a.available=A;a.unavailable=t}var I={},F=0,y=q.updateIfCurrentlyActive,E=-1,x=-1;n.each(e,function(c,a){a.dimKey===h&&(E=a.val,x=c)});-1!==E&&(u&&(I[E]=F),F++);var B=g.rows[h];d.each(a.available,function(a){c[a.index]=c[a.index]||{};var b=c[a.index];b.unavailable=!1;b.selected&&(E=a.index,b.isVisible||(null!==K[h]&&c[K[h]]&&(c[K[h]].isVisible=
!1,H&&l(h)),K[h]=a.index),b.isVisible=!0);u&&(b.isVisible=F<g.inlineVariationsSize[h]||b.selected);v&&(b.isVisible=!0);var e=b.isVisible||m,n=m?b.id+"_sec":b.id;p&&e?b.slotHtm=g.slotManager.get(a.asin,h,g.noOfLoadingIndicator,m,aa,y.bind(q,n),f):(b.slotHtm=b.slotHtm||"",y(n,b.slotHtm));(m||v)&&B&&B.toggleSwatch&&(e=B.toggleSwatch.getSwatch(a.index),d.objectIsEmpty(e)&&(I[a.index]=F));u&&E!==a.index&&(I[a.index]=F);b.showSlot=p;b.selected||F++});d.each(a.unavailable,function(a){c[a.index]=c[a.index]||
{};var b=c[a.index];b.unavailable=!0;u&&(b.isVisible=F<g.inlineVariationsSize[h]);v&&(b.isVisible=!0);var e=d.state("filteredAvailability"),l=X;e!==J&&!0===e.filterApplicable&&(a.index in e.variations[x]||(l='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+ea+"\x3c/span\x3e"),b.defaultSlotUnavailable=l);b.slotHtm=p?l:"";u&&(I[a.index]=F);b.showSlot=p;F++});W[h]=!0;H&&(I={});return I}function I(c,a,b,h){var e=g.textSwatchMap[b];c&&e&&(!h||g.isSideSheetOpen)&&(g.slotManager.resetMinSlotHeight(b),
c=a.toggleSwatch.getSlotNodes(h),fa(c,b,h),g.slotManager.updateSlotHeight(b,h))}function fa(c,a,b){g.slotManager.resetSlotHeight(a,b);d.each(c,function(c,b){d.each(c,function(c){g.slotManager.setState(c,a,b)})})}function aa(c,a){a&&!g.isSideSheetOpen||I(!0,g.rows[c],c,a)}var g=this,G=J;this.isWindowResizedAfterSideSheetOpen=!1;this.data=f;this.noOfLoadingIndicator=1;this.dimList=f.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.dimensionsExpandedInline={};this.logger=p;this.inlineTwisterData=
f?f.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new B;var K={},S=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},X='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+(S.defaultSlotUnavailableString||"")+"\x3c/span\x3e",Y=f.imageHashMap||{},Z=f.desktopConfiguratorPopoverImageMap||{},O=f.dimensionPageLoadUrls||{},ea="pwASINs"in f&&f.pwASINs instanceof Array&&0<f.pwASINs.length?f.pwUnavailableMessage:"",N={},
U=!!f.isAssemblyVariationsEnabled;this.rows={};this.dimensionHandler=new w(g.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var L,ca=k.loggingConstants,da=k.MAX_INLINE_ROWS;this.initSelectionState={};q.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:[]);this.inlineVariationsSize={};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};
var V=g.inlineTwisterData.dimsWithSwatchReorderingDisabled||[],R={},W={},ba=!1;(function(){var c=g.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");c.start();A();c.stop()})();d.on("register-desktop-configurator-with-twisterCore",function(a,b){G=a;g.logger.registerTwisterCore(G);g.sideSheet.init(g.logger);a=h();var e=g.inlineTwisterData.slotsEnabledDimensions,l=g.inlineTwisterData.popoverSlotsEnabledDimensions,u={};n.each(a,function(c,a){u[a.dimKey]=a});G.slotsDimSum.addDefaultQueryParameter("showFancyPrice",
g.inlineTwisterData.showFancyPrice);G.slotsDimSum.addDefaultQueryParameter("twisterFlavor",k.DESKTOP_CONFIGURATOR_FLAVOR);g.slotManager=new t(G,x,g.logger,g.inlineTwisterData);g.dimensionHandler.init();var q=0;d.each(g.rows,function(c){function a(e){var l,u={},q;l=e.selected().selectionInfo();n.each(l,function(c,a){u[a.dimKey]=a});q=u[b].val;e=g.swatches[b];e[q]=e[q]||{};e[h]=e[h]||{};e[h].selected=!1;e[q].selected=!0;var v=m(b,h);h===q||f||c.setThumbnailImage(e[q].image);h=q;F(e,A,b,l,!1,!1,H,!!g.dimensionsExpandedInline[b]);
l=m(b,q);q={swatches:e};var p=d.filter(e,function(c){return c.isVisible});e.length!==p.length||c.isInlineExpanded||(c.hideInlineExpansionLink(),g.inlineVariationsSize[b]=e.length);c.setExpanderHeaderAriaLabel(v,l);c.setState(q,{},L,l,!1);I(A,c,b)}if(!g.isSingletonMap[c.dimKey]){c.postInitialize();var b=c.dimKey,h=u[b].val,f=E(b),v=g.dimList.length===l.length?l[q]:l[0],p=!U&&(g.dimList.length===e.length?e[q]:e[0]),H=!p,A=p||v,v={viewAttribution:"DetailPage",viewName:"DesktopConfiguratorRowView_"+b};
d.on("update-desktop-configurator-view",function(c){a(c)});g.twister=G.registerActive(v,{updateView:function(h,e){var l={};"VARIATION_CHANGE"===h?a(e):"VARIATION_PEEK"===h&&(h=e.peek().selectionInfo(),n.each(h,function(c,a){l[a.dimKey]=a}),h=l[b].val,h=m(b,h),L===b&&c.title.setState(h),g.sideSheet.activeDimKey===b&&g.sideSheet.updateDimVal(h))}});g.isSingletonMap[b]||c.handleSeeMoreIngress((g.swatches[b]||[]).length)}q++});d.trigger("desktop-configurator-twisterCore-initialized",g);r.all(c()).then(function(){H()});
b.then(function(){d.each(g.rows,function(c){c.activatePageRefresh()})})})}var n=d.$;t.prototype={updateView:function(f){d.trigger("update-desktop-configurator-view",f.tsm.currentState())}};return t});"use strict";z.when("A").register("desktop-configurator-constants",function(d){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,
MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,SIDE_SHEET_PADDING:48,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterPrimeWardrobe","twisterAvailability","deliveryPromise"],SIZE_DIMENSION_NAME:"size_name",DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,ABS_PACK_DESCRIPTION_RENDERED:"absPackDescriptionRendered",viewEvents:{MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",
CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",
LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",
DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",
TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",
WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";z.when("A").register("desktop-configurator-logger",function(d){function k(){if(!(this instanceof k))return new k;n||(n=this);return n}function r(d){if("undefined"!==typeof D.csa){var n=D.csa("Events",{producerId:"dp-rpcx"}),k=f.count(d)||0;n("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:d,valueToLog:k},{ent:"all"})}}var t=d.$,n,f=D.ue;k.prototype={registerTwisterCore:function(d){this.twisterCore=
d},logCSMDataOnLanding:function(){var d=0,n=0,k=0,p=this.twisterCore.util,w=p.tvm.dimensionInfo,B=this.twisterCore.state().length,q=Object.keys(p.tvm.dimCombinations).length;t.each(w,function(e,b){e=b.dimKey;p.isRequiredDim(e)&&k++;p.isSingletonDim(e)?n++:d++});f&&f.count&&(f.count("dpMobileTwisterDropdownPresent",d),r("dpMobileTwisterDropdownPresent"),f.count("dpMbileTwisterSingletonDim",n),r("dpMbileTwisterSingletonDim"),f.count("dpMobileTwisterRequiredDim",k),r("dpMobileTwisterRequiredDim"),f.count("dpMobileTwisterDimSize",
B),r("dpMobileTwisterDimSize"),f.count("dpMobileTwisterFamilySize",q),r("dpMobileTwisterFamilySize"),f.count("twisterPlus.inlineTwisterGV",1),r("twisterPlus.inlineTwisterGV"))},logCSMTagsOnLanding:function(f){function n(a,c,b){var e=[];if(c===b)e.push(""),a=a[c],d.$.isArray(a)?d.each(a,function(c,a){e.push(c)}):e.push(a);else{var l=Math.floor((c+b)/2);c=n.call(this,a,c,l);var m=n.call(this,a,l+1,b);d.each(c,function(c,a){d.each(m,function(a,b){e.push(""===c?a:""===a?c:c+":"+a)})})}return e}function k(a){a&&
r.push(a)}var p=this,r=[],t=!0,q=!0,e=[0,3,8,25,50,100,1E3,5E3],b=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,a,l;f.dimensionList&&(a="variation_dimension:"+f.dimensionList.length,d.each(f.dimensionList,function(a,c){p.addCSMTag(a)}));for(var m=1;m<e.length;m++)if(b<=e[m]){l="family_size_bucket:"+e[m-1]+"-"+e[m];break}else m===e.length-1&&(l="family_size_bucket:gt"+e[m]);f.dimensionInfo&&d.each(f.dimensionInfo,function(a,c){a.isSingleton||(t=!1)});e=t?"SingletonFamily":"DesktopConfigurator";
f.initDimCombination&&d.each(f.initDimCombination,function(a,c){-1===a.val&&(q=!1)});k(a);k(l);k(e);q&&k("defaultSelection");f=n.call(this,r,0,r.length-1);(function(a){var c=this;d.each(a,function(a,b){a&&c.addCSMTag(a)})}).call(this,f)},createFunctionTimerInstance:function(d){var f=this;return{eventType:d,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&f.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(d){D.ue&&D.ue.tag&&D.ue.tag(d)},logCounter:function(d,
n){f&&f.count&&(n===J?f.count(d,(f.count(d)||0)+1):f.count(d,n),r(d))},logBottomSheetPageUpdate:function(d){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+d)},logSecViewGV:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+
d)},logSecViewClosed:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+d)},logDimensionCollapsed:function(d){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+d)},logDimensionExpanded:function(d){this.logCounter("twisterPlus.inlineTwister.dimExpand."+d)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},
logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},
logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")},logSeeAllLinkClick:function(d){this.logCounter("twisterPlus.inlineTwister.seeAllLinkClick."+d)}};return k});"use strict";z.when("A").register("twister-dynamic-style",function(d){function k(d,f){this.name=d;this.styleNode;this.rules=f||[];this.pendingRefresh}var r=d.$,t={};k.prototype={refresh:function(){var d=r("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?
(this.styleNode.replaceWith(d),delete this.styleNode,this.styleNode=d):(this.styleNode=d,this.styleNode.appendTo("body"))}};return{addCSSRules:function(d,f){t[d]?t[d].rules=f||[]:t[d]=new k(d,f);t[d].refresh()}}});"use strict";z.when("A","desktop-configurator-constants","desktop-configurator-twister-register").register("desktop-configurator-slot-manager",function(d,k,r){function t(d,e,b,a){this.twisterCore=d;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};this.dynamicStyle=
e;this.slotIdentifierMap={};this.logger=b;this.auiPriceSize=a&&a.auiPriceSize?a.auiPriceSize:"m";this.currentlyUnavailableMessage=a&&a.stringTranslationMap?a.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=a&&a.desktopConfiguratorSlotsInMainView?a.desktopConfiguratorSlotsInMainView:[]}function n(q,e,b,a,l){var m=this.batch,h=this;m[q]=m[q]||[];m[q].push(b);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var c=d.map(h.batch,function(a,
c){return c});h.twisterCore.slotsDimSum.get(c,function(c){var b=h.batch[c.ASIN];b&&(w.each(b,function(a,b){b(c)}),delete h.batch[c.ASIN]);p(h.batch)&&(b=Object.keys(h.maxSlotHeight),d.each(b,function(c){a(c,l&&c===e)}))})},0)}function f(d,e,b,a){b[e]=b[e]||{};b[e].uniqueCount=b[e].uniqueCount||0;var l="inline-twister-dimsum-loading-"+e+"-"+b[e].uniqueCount;b[e].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+l+(d?" loading-indicator-1":"")+(a?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',
promise:function(a,b){var c=w("."+l+":not(.loading-indicator-in-popover)").parent();c.length&&(c.html(a),b(c))}}}function v(d){return d.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function y(d,e,b){return v(B.default.call(this,d.content.twisterSlotDiv,e,b))}function x(d,e){if(!d||0===d.length)return e;if(0<d.find(".loading-indicator-1").length)return d[0].scrollHeight;if(0===d.find(".defaultSlotUnavailable").length)return e;d=d[0].scrollHeight;
e<d&&(e=d);return e}function p(d){for(var e in d)if(d.hasOwnProperty(e))return!1;return!0}var w=d.$,B={default:function(d,e,b){d=w("\x3cdiv\x3e"+d+"\x3c/div\x3e");var a=d.find(".price_slot_ppu"),l=d.find("#ms3slot"),m=d.find("#twisterAvailability"),h=d.find("#deliveryPromisePrefix"),c=d.find(".variationReviewsSection"),u=b?[]:this.desktopConfiguratorSlotsInMainView,f=d.find(".twister_swatch_price");m.length&&((f.length||b)&&-1===u.indexOf("twisterAvailability")&&m.parent().addClass("aok-hidden"),
m.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),m.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),m.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),m.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),e&&this.logger.logAvailabilitySlotRender());0<f.length?(-1===u.indexOf("price")&&f.addClass("aok-hidden"),f.addClass("inline-twister-swatch-price"),b=d.find(".a-price"),
0<b.length?b[0].dataset&&(b[0].dataset.aSize=this.auiPriceSize):(f.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),f.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),f.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),b="a-size-small",f.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(b),
a.length&&(b="twister-plus-inline-twister-ppu a-size-micro",a.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(b),e&&this.logger.logPPUSlotRender()),e&&this.logger.logPriceSlotRender()):(f=d.find("#sndbox-mobile-twister-price"),0<f.length&&e&&this.logger.logPriceSlotRender());l.length&&(-1===u.indexOf("ms3")&&l.addClass("aok-hidden"),e&&this.logger.logPrimeSlotRender());0<h.length&&(h.removeClass("a-size-small a-color-secondary").addClass("a-color-base a-size-base"),
-1===u.indexOf("deliveryPromise")&&h.parent().addClass("aok-hidden"),h.find("br").remove(),a=h.find("b"),0===a.length&&(a=h.find("span")),a.length&&(l=" "+v(a.text()),a.addClass("aok-hidden"),h.append("\x3cspan\x3e"+l+"\x3c/span\x3e")),e&&this.logger.logDeliverySlotRender());0<c.length&&(c.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),-1===u.indexOf("variationReviews")&&c.addClass("aok-hidden"),e&&this.logger.logReviewsSlotRender());r.executeModifiers(d);
return d.html()}};t.prototype={get:function(d,e,b,a,l,m,h){var c=this,u=this.twisterCore.slotsDimSum.get([d]);if(u[d])return y.call(c,u[d].Value,!1,h);var p=f(b,e,c.slotIdentifierMap,h);n.call(this,d,e,function(a){p.promise(y.call(c,a.Value,!0,h),m)},l,a);return p.loadingHtm},setState:function(d,e,b){this.minSlotHeight[e]||(this.minSlotHeight[e]=[]);this.maxSlotHeight[e]||(this.maxSlotHeight[e]=[]);this.minSlotHeight[e][b]=this.minSlotHeight[e][b]||0;this.minSlotHeight[e][b]=x(d,this.minSlotHeight[e][b]);
this.maxSlotHeight[e][b]=this.maxSlotHeight[e][b]||0;var a=this.maxSlotHeight[e];var l=this.maxSlotHeight[e][b];!d||0===d.length||0<d.find(".loading-indicator-1").length||(d=d[0].scrollHeight,l<d&&(l=d));a[b]=l;this.maxSlotHeight[e][b]=this.maxSlotHeight[e][b]>this.minSlotHeight[e][b]?this.maxSlotHeight[e][b]:this.minSlotHeight[e][b]},updateSlotHeight:function(f,e){var b=[],a;d.each(this.maxSlotHeight[f],function(d,m){e?(b.push("#desktop-configurator-side-sheet #"+f+"dim_list .desktop-configurator-dim-row-"+
m+" .dimension-slot-info {height: "+d+"px;}"),a="twister-plus-desktop-configurator-side-sheet-slot-height-"):(b.push("#inline-twister-expander-content-"+f+" .desktop-configurator-dim-row-"+m+" .dimension-slot-info {height: "+d+"px;}"),a="twister-plus-desktop-configurator-slot-height-")});this.dynamicStyle.addCSSRules(a+f,b)},resetMinSlotHeight:function(f){this.minSlotHeight[f]||(this.minSlotHeight[f]=[]);this.minSlotHeight[f]=d.map(this.minSlotHeight[f],function(){return 0})},resetSlotHeight:function(f,
e){this.maxSlotHeight[f]||(this.maxSlotHeight[f]=[]);this.dynamicStyle.addCSSRules((e?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+f,[]);this.maxSlotHeight[f]=d.map(this.maxSlotHeight[f],function(){return 0})}};return t});"use strict";z.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",function(d,k,r){function t(){this.sideSheetData=this.activeDimKey=null;this.swatchList=
[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function n(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function f(e,b){d.each(e,function(a){var e="desktop-configurator-swatch-hover:"+b+"_sec";try{d.declarative.remove(a,e),d.declarative.create(a,e,{})}catch(m){z.log("Hover event subscribe failed with error: "+this.name,q.ERROR,q.ATTRIBUTION)}})}
function v(e){e=Array.prototype.slice.call(e);var b=w(e[0]).find("input");e=w(e[e.length-1]).find("input");this.keyDownEventHandler=x.bind(this,b,e);document&&document.addEventListener("keydown",this.keyDownEventHandler);d.delay(function(){b&&b.focus()})}function y(){if(this.mainViewDimContainer){var e=this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);e&&e.focus()}}function x(e,b,a){a.code&&"tab"===
a.code.toLowerCase()&&(a.shiftKey?document&&document.activeElement===e[0]&&(a.preventDefault(),b.focus()):document&&document.activeElement===b[0]&&(a.preventDefault(),e.focus()))}function p(e){var b=w("#desktop-configurator-side-sheet-content-header").clone();b.removeClass("aok-hidden");b.find(".dim-name").text(e.dimensionDisplayText+":");b.find(".dim-value").text(e.displayValueText);var a=e.optionsText;a&&b.find(".dim-options").text(a.replace("###options",e.totalValueCount));return b}var w=d.$,B=
k.sideSheetSelectors,q=k.loggingConstants;t.prototype={init:function(e){var b=this,a=w("#twister-plus-inline-twister-container");0!==a.length&&(a=a[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new r({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:k.SIDE_SHEET_ANIMATION_SPEED,width:a+k.SIDE_SHEET_PADDING+b.scrollbarWidth,onAfterHide:function(){e.logSecViewClosed(b.activeDimKey);d.each(b.swatchList,function(a){var e=parseInt(a.getAttribute("data-idxInToggleSwatchList"),
10),e=b.sideSheetData.getSwatchInfo(e);d.declarative.remove(a,"desktop-configurator-swatch-hover:"+b.activeDimKey+"_sec");b.sideSheetData.destroyPopover(e.id+"_sec")});y.call(b);b.updateSideSheetStatus[b.activeDimKey]&&b.updateSideSheetStatus[b.activeDimKey](b.activeDimKey,!1);n.call(b)}}))},open:function(e){this.activeDimKey=e.dimKey;this.sideSheetData=e;var b=w("#inline-twister-row-"+e.dimKey+" #tp-inline-twister-dim-values-container"),a=b.find(".desktop-configurator-dim-row-0"),l=w("#side-sheet-loader-container").clone().removeClass("aok-hidden"),
m=l.find(".loader-container"),h=l.find("#side-sheet-loader").clone().removeClass("aok-hidden"),c;if(e.isTextSwatch)b=a.width()-k.BORDER_WIDTH,c=a.height()-k.BORDER_WIDTH;else{var u=b.find(".inline-twister-swatch").not(".aok-hidden").not(".swatch-prototype");c=a.find(".swatch-image-container");b=c.outerWidth();c=c.outerHeight();u=Math.abs((u.width()-a.find(".swatch-image-container").outerWidth())/2)-k.BORDER_WIDTH;h.css("margin-right",u+"px");h.css("margin-left",u+"px")}h.width(b);h.height(c);d.each(a,
function(){m.append(h.clone().addClass("side-sheet-loader-1"))});a=m.clone();a.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");l.append(a);e=p(e);l.prepend(e);this.sideSheet.open(l[0].outerHTML)},update:function(e){this.mainViewDimContainer=w("#inline-twister-row-"+e.dimKey+" #tp-inline-twister-dim-values-container");var b=this.mainViewDimContainer.clone(),a=b.find(B.DIMENSION_VALUES_LIST);a.attr("id",e.dimKey+"dim_list");var d=p(e);b.prepend(d);a.children().slice(1).removeClass("aok-hidden");
a.attr("data-a-button-group",'{"name":"sec_'+e.dimKey+'"}');this.sideSheet.updateContent(b[0].outerHTML);e=this.sideSheet.container;this.swatchList=e.find(B.DIMENSION_VALUES_LIST).children().slice(1);f(this.swatchList,this.activeDimKey);this.dimValContainer=e.find(".desktop-configurator-side-sheet-content-header .dim-value");v.call(this,this.swatchList)},close:function(){this.sideSheet.close()},registerToggleButtonGroup:function(e,b,a){var l=B.SEC_VIEW_TOGGLE_BUTTON_PREFIX+e,m=this;this.updateSideSheetStatus[e]=
a;d.on("a:button-group:"+l+":toggle",function(a){m.sideSheet.close();a.selectedButton.buttonGroupName=e;b(a.selectedButton,e)})},updateDimVal:function(e){this.dimValContainer&&this.dimValContainer.length&&this.dimValContainer.text(e.subText)},refreshWidth:function(){var e=w("#twister-plus-inline-twister-container")[0].getBoundingClientRect().width+this.scrollbarWidth;this.sideSheet.updateWidth(e+k.SIDE_SHEET_PADDING)},getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;
var e=document.body?D.innerWidth-document.body.clientWidth:-1;0>e&&(e=k.DEFAULT_SCROLLER_WIDTH);return e}};return t});"use strict";z.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(d,k,r){function t(a){var c=x("\x3cdiv /\x3e"),b=x("\x3cspan /\x3e"),e=a.title,d=a.showImageInPopOver,l=!a.hideSlots;c.addClass("desktop-configurator-popover-content");b.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");b.text(e);
c.append(b);d&&(b=x("\x3cdiv /\x3e"),d=x("\x3cimg /\x3e"),d.attr("src",a.image),d.attr("data-a-image-source",a.image),d.attr("alt",e),b.append(d),c.addClass("visual-dimension"),b.addClass("desktop-configurator-image-block"),c.prepend(b));l&&n(c,a.slotNode);return c}function n(a,c){c="string"===typeof c?c:c.clone();var b=x("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();b.addClass("desktop-configurator-slot-block");b.html(c);f(b);a.append(b)}function f(b){var c=b.find(".price_slot_ppu"),
e=b.find("#ms3slot"),f=b.find(".twister_swatch_price"),p=b.find("#twisterAvailability"),n=b.find("#deliveryPromisePrefix"),k=b.find(".variationReviewsSection"),q=b.find(".default-slot-unavailable"),r=b.find(".loading-indicator-1");b=b.find(".twisterPrimeWardrobe");var t={variationReviews:k,price:f,ms3:e,twisterAvailability:p.parent(),deliveryPromise:n.parent(),ppu:c,twisterPrimeWardrobe:b};r.length&&(r.addClass("loading-indicator-in-popover"),0===a.length?r.addClass("aok-hidden"):r.removeClass("aok-hidden"));
d.each(l,function(c){t[c]&&(-1===a.indexOf(c)?t[c].addClass("aok-hidden"):(t[c].removeClass("aok-hidden"),c=m[c+"_styleSlot"],"function"===typeof c&&c.call(this,t)))});q.length&&q.removeClass("a-size-small").addClass("a-size-base")}function v(a,c,b,e){b=t({slotNode:b.slotNode,title:b.title,showImageInPopOver:b.showImageInPopOver,image:b.image,hideSlots:e});c=k.create(c,{name:a,inlineContent:b,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});p[a]=c;w[a]||(d.on("a:popover:afterShow:"+
a,function(a){d.delay(function(){x(q.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),w[a]=!0);return c}function y(a,c,b){if(a=p[a])c=t({slotNode:c.slotNode,title:c.title,showImageInPopOver:c.showImageInPopOver,image:c.image,hideSlots:b}),a.update({content:c});return a}var x=d.$,p={},w={},B=r.POPOVER_DELAY,q=r.sideSheetSelectors,e=null,b=null,a=[],l=r.CONFIGURED_SLOTS,m={price_styleSlot:function(a){var c=a.ms3,b=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),
b.length&&b.removeClass("a-size-micro").addClass("a-size-small"),c.length&&(b=a.find(".twisterSwatchPrice"),b.length&&b.after(c),c.after("\x3cbr /\x3e")))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){a=a.twisterAvailability;a.length&&a.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base")}};return{show:function(a,c,l,m){e=this.exists(a)?y.call(this,a,l,m):v.call(this,
a,c,l,m);clearTimeout(b);var f=this;b=d.delay(function(){x(q.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");e&&e.show();f.updateIfCurrentlyActive(a,l.slotNode)},B)},exists:function(a){return!!p[a]},hide:function(a){(a=p[a])&&a.hide();e=null;clearTimeout(b)},updateIfCurrentlyActive:function(a,c){e&&e.$container&&e.attributes.name===a&&(a=e.$container.find(".desktop-configurator-popover-content"),n(a,c))},destroy:function(a){p[a]&&k.remove(a);delete p[a];clearTimeout(b)},setVisibleSlotConfig:function(b){a=
b}}});"use strict";z.when("A").register("desktop-configurator-twister-register",function(){var d=[];return{registerModifier:function(k){d.push(k)},executeModifiers:function(k){d.forEach(function(d){d.modify&&"function"===typeof d.modify&&d.modify(k)})}}});"use strict";z.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(d,k){var r=d.$,t=k.widgetSelectors,n=k.classes,f=k.cssConstants,v=k.loggingConstants,y=function(){function f(){var b=r(t.IMAGE_THUMBNAIL).attr("src");
return b&&b.length&&(b=b.split("."),2<b.length)?b[b.length-2]:!1}function e(b,a,e,d){d=d&&0<d.length?d:b.find(".a-button");a&&!e?(d.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),b.find("hr").show(),b.find("hr").removeClass("aok-hidden")):(d.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),b.find("hr").hide(),b.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(b,a,e){var m=0,h,c;d.each(b,function(b){b.domNode&&(b.isVisible||
a||e)&&(h=b.domNode.attr("data-idxInToggleSwatchList"),c=e?r("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+h+"]"):b.domNode,b=c.find(".swatch-title-text-display"),b.length&&b[0].style.removeProperty("height"),b=b?b.height():0,m<b&&(m=b))});d.each(b,function(b){b.domNode&&(b.isVisible||a||e)&&(h=b.domNode.attr("data-idxInToggleSwatchList"),c=e?r("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+h+"]"):b.domNode,c.find(".swatch-title-text-display").height(m))})},
createSwatch:function(b,a,d,m,h,c,f){var p=!a.unavailable,n=a.isVisible,k=a.selected,q=a.showSlot,r=a.slotHtm;d="#"+d;if(c.length)return c=c.clone(),c.removeClass("swatch-prototype"),h&&c.addClass("slots-hidden"),c.attr("data-idxInToggleSwatchList",m),m=c.find(d).attr("id",a.id),c.find(d+"-announce").attr("id",a.id+"-announce"),c.find("input").attr({name:a.name,"aria-labelledby":a.id+"-announce"}),c.find("text"===b?".swatch-title-text-display":"square_image"===b?".swatch-title-text":".swatch-text").text(a.text),
p||m.addClass("a-button-unavailable"),k&&m.addClass("a-button-selected"),"text"!==b&&(k=c.find(".swatch-image"),k.addClass("inline-twister-manual-load"),k.attr({"data-a-image-source":a.image||"",id:"inline-twister-image-"+a.name,alt:a.text})),k=c.find(".dimension-slot-info"),k.length&&(k.attr("id","dimension-slot-info-"+a.name),q?p?0<r.length&&k.html(r):k.html(a.defaultSlotUnavailable):c.find("text"===b?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===b&&e(c,q,h,m)),f.append(c),
n||c.addClass("aok-hidden"),c},getThumbnailImageUrlForPhysicalId:function(b){return b&&b.length&&(b=b.split("."),2<b.length)?(b.splice(-2,1,f()),b.join(".")):!1},updateSlotSectionInTextSwatch:e}}(),x=function(f){function e(b,a,d,e,h,c,p,k){this.id=b.id;this.unavailable=!!b.unavailable;this.selected=!!b.selected;this.showSlot=b.showSlot;this.slotHtm=b.slotHtm;this.isImageSwatch=!a;this.asin=b.asin;this.pageUrl=b.pageUrl;this.hideSlotsFromMainView=h;var n=a?"text":b.isCirclularImageSwatch?"circular_image":
"square_image";this.domNode=k?r(k):f.createSwatch(n,b,d,e,h,c,p);this.isVisible=b.isVisible;this.imageUrl=b.image;this.popoverImage=b.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=a?".slots-padding":".dimension-slot-info";this.title=b.text;this.name=b.name;this.subscribeToHoverEvent(d)}e.prototype={setState:function(b,a,d,e){this.selected=!!b.selected;this.updateAvailablity(b);this.updateSlotNode(b,a,d);this.updateVisibility(b);this.updateSwatchIndexInDomNode(e);return this},getSlotNode:function(b){this.slotNode||
(this.slotNode=this.domNode.find(t.SLOT_NODE_SELECTOR));if(!b)return this.slotNode;b=this.slotNode?this.slotNode.attr("id"):"";return r("#desktop-configurator-side-sheet").find("#"+b)},updateSlotNode:function(b,a,d){this.slotNode||(this.slotNode=this.domNode.find(t.SLOT_NODE_SELECTOR));this.showSlot!==b.showSlot&&((this.showSlot=b.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),this.isImageSwatch||f.updateSlotSectionInTextSwatch(this.domNode,
this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==b.slotHtm&&(a&&r("#tp-inline-twister-sec-view-"+d+" #"+this.slotNode.attr("id")).html(b.slotHtm),this.slotNode.html(b.slotHtm),this.slotHtm=b.slotHtm)},updateAvailablity:function(b){this.toggleButton||(this.toggleButton=this.domNode.find(t.TOGGLE_BUTTON_SELECTOR));(this.unavailable=b.unavailable)?this.toggleButton.addClass(n.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(n.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.toggleButton||
(this.toggleButton=this.domNode.find(t.TOGGLE_BUTTON_SELECTOR));this.selected?(this.toggleButton.addClass(n.A_BUTTON_SELECTED),this.toggleButton.removeClass(n.A_BUTTON_UNAVAILABLE)):(this.toggleButton.removeClass(n.A_BUTTON_SELECTED),this.toggleButton.removeClass(n.A_BUTTON_FOCUS))},updateVisibility:function(b){b.isVisible?this.domNode.removeClass(n.AOK_HIDDEN):this.domNode.addClass(n.AOK_HIDDEN);this.isVisible=b.isVisible},subscribeToHoverEvent:function(b){b="desktop-configurator-swatch-hover:"+
b;try{d.declarative.remove(this.domNode,b),d.declarative.create(this.domNode,b,{})}catch(a){z.log("Hover event subscribe failed with error: "+this.name,v.ERROR,v.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(b){this.domNode&&this.domNode.attr("data-idxInToggleSwatchList",b)},getTopPosition:function(){var b=this.domNode.position();return this.topPosition=b?b.top:0}};return e}(y),p=function(f,e){function b(a,b,e,h){var c=this;this.isTextSwatch=a.isTextSwatch;this.name=a.name;this.domNode=r(t.EXPANDER_CONTENT_PREFIX+
a.name);this.title=h;this.selectedSwatch=null;this.swatches={};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=a.totalSwatchCount||0;this.onChange=a.onChange;this.hoverHandler=a.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=b.autoNotificationCallback;this.rowContainer=e;this.swatchListContainer=this.domNode.find(t.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=a.hideSlotsFromMainView;
this.windowResizeCallback=b.windowResizeCallback;this.preserveNaturalSwatchOrder=a.preserveNaturalSwatchOrder;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=r("#"+a.name).closest(t.SWATCH_NODE_SELECTOR);this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();d.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,10),d=c.swatches[b];d?c.isPageRefreshActive?(c.isUserInteracting=!0,b=d.unavailable,d.updateSelection(),
c.autoNotificationCallback&&c.autoNotificationCallback(b,!0),c.onChange&&c.onChange(c.swatches,a.selectedButton,c.markAutoUpdated),c.setAutoUpdated(!1)):d.pageUrl&&(D.location.href=d.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+b+" ; Swatch length: "+Object.keys(c.swatches).length,z.log(a,v.ERROR,v.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+a.name+"_sec",
!0);if(this.isTextSwatch)d.on("resize",function(){0<c.displaySwatches.length&&(c.repopulateDisplaySwatches(),c.alignTextSwatches(),c.preserveNaturalSwatchOrder&&c.alignTextSwatchNodesInLastRow(),"function"===typeof c.windowResizeCallback&&c.windowResizeCallback(c.name))})}b.prototype={setState:function(a,b,f,h){var c=this,p,k=[],n=[],r=[];d.objectIsEmpty(b)||(d.each(b,function(b,d){if(!c.swatches[d]&&(a.swatches[d].isVisible||f)){var l=new e(a.swatches[d],c.isTextSwatch,c.name,d,c.hideSlotsFromMainView,
c.swatchPrototypeNode,c.swatchPrototypeNodeParent);l.subscribeToHoverEvent(c.name);c.swatches[d]=l;!c.isTextSwatch&&c.swatches[d]&&c.swatches[d].domNode&&r.push(c.swatches[d].domNode.find(".inline-twister-manual-load")[0])}n[b]=d}),this.swatchIdxOrder=n,h||(this.resetToggleSwatchContainer(),this.displaySwatches=[]),d.each(this.swatchIdxOrder,function(a,b){if(a=c.swatches[a])a&&c.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(c.name),c.addToDisplaySwatches(a,c.displaySwatches)}));
d.each(a.swatches,function(a,b){if(c.swatches[b])p=a.selected?c.swatches[b]:p,c.swatches[b].selected=!!a.selected,k.push({index:b,data:a});else{if(a.isVisible||f)c.swatches[b]=new e(a,c.isTextSwatch,c.name,b,c.hideSlotsFromMainView,c.swatchPrototypeNode,c.swatchPrototypeNodeParent),c.swatches[b].subscribeToHoverEvent(c.name),c.addToDisplaySwatches(c.swatches[b],c.displaySwatches),!c.isTextSwatch&&c.swatches[b]&&c.swatches[b].domNode&&r.push(c.swatches[b].domNode.find(".inline-twister-manual-load")[0]);
a.selected&&(p=c.swatches[b])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();p&&p.updateSelection();d.each(k,function(a,b){c.swatches[a.index].setState(a.data,f,c.name,a.index)});this.isTextSwatch&&(d.objectIsEmpty(b)?this.preserveNaturalSwatchOrder&&this.alignTextSwatchNodesInLastRow():this.alignTextSwatches());c.selectedSwatch&&p&&c.selectedSwatch!==p&&!c.isUserInteracting&&c.autoNotificationCallback(!0);c.selectedSwatch=p;c.isUserInteracting=!1;r.length&&d.loadImageManually(r);return this},
getSlotNodes:function(a){return d.map(this.displaySwatches,function(b){return d.map(b,function(b){return b.getSlotNode(a)})})},setUserInteracting:function(a){this.isUserInteracting=a},alignTextSwatches:function(a,b){d.each(this.displaySwatches,function(d){f.alignTextSwatches(d,a,b)})},alignTextSwatchNodesInLastRow:function(){var a=this.domNode.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)");if(1<a.length){var b=a[a.length-1],e=a[a.length-2];b&&e&&b.getBoundingClientRect().top===
e.getBoundingClientRect().top&&(a=d.map(a.slice(a.length-(a.length%this.numberOfSwatchesPerRow||this.numberOfSwatchesPerRow),a.length),function(a){return this.swatches[a.getAttribute("data-idxInToggleSwatchList")]},this),f.alignTextSwatches(a))}},resetToggleSwatchContainer:function(){var a=r(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(a)},getVisibleSwatchesSize:function(){var a=0;d.each(this.swatches,function(b,d){b.isVisible&&
(a+=1)});return a},setAutoUpdated:function(a){this.markAutoUpdated=a},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(a){a&&(this.numberOfSwatchesPerRow=a)},createSwatch:function(a,b){b=new e(a,this.isTextSwatch,this.name,a.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,this.swatchPrototypeNodeParent,b);this.swatches[a.name]=b;this.initialVisibleSwatchList[a.name]=
b;this.selectedSwatch=a.selected?b:this.selectedSwatch;this.orderedSwatchList.push(b);return b},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(a){return this.swatches[a]?this.swatches[a]:{}},registerHoverDeclarative:function(a,b){var e=this;d.declarative(a,"mouseenter mouseleave",function(a){var c=a.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),c=e.getSwatch(c);a.data={slotNode:a.$currentTarget.find(c.slotNodeIdentifier),
showImageInPopOver:c.isImageSwatch&&!!c.popoverImage,unavailable:c.unavailable,showSlot:c.showSlot,selected:c.selected,title:c.title,name:c.name,id:b?c.id+"_sec":c.id,image:c.popoverImage};e.hoverHandler(e.name,a)})},addToDisplaySwatches:function(a,b){var d=n.ROW_IDENTIFIER_PREFIX;if(0===b.length)b.push([a]);else{var e=b[b.length-1];e&&e.length===this.numberOfSwatchesPerRow?b.push([a]):e.push(a)}this.removeSwatchRowIdentifier(a);a.domNode&&a.domNode.addClass(d+(b.length-1).toString())},adjustSwatchWidthAndSpacing:function(){var a=
this.getNumberOfSwatchesPerRow();if(this.totalSwatchCount>a){var b=this.displaySwatches[0][0].domNode,a=this.domNode.find(".a-button"),d=this.domNode[0].getBoundingClientRect().width-1,b=b.width(),e=this.getNumberOfSwatchesPerRow(),d=d-(b*e+(this.isTextSwatch?k.TEXT_SWATCH_MARGIN_RIGHT:0)*e);0<d&&(d=parseFloat(d/e),a.width(b+d))}},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var a=[],b=0,e,f=this;d.each(this.displaySwatches,function(c,p){d.each(c,function(c,d){0===a.length?
a.push([c]):0===b?(e=a[0][a[0].length-1],c.getTopPosition()!==e.getTopPosition()?(b=a[0].length,f.numberOfSwatchesPerRow=b,f.addToDisplaySwatches(c,a)):(a[0].push(c),f.removeSwatchRowIdentifier(c),c.domNode&&c.domNode.addClass(n.ROW_IDENTIFIER_PREFIX+(0).toString()))):f.addToDisplaySwatches(c,a)})});0===b&&(this.numberOfSwatchesPerRow=b=a[0].length);this.displaySwatches=a}},removeSwatchRowIdentifier:function(a){a.domNode&&a.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||
[]).join(" ")})},createDisplaySwatches:function(){var a=this;d.each(this.orderedSwatchList,function(b){a.addToDisplaySwatches(b,a.displaySwatches)})},removeMisplacedSwatch:function(){var a=this.displaySwatches[this.displaySwatches.length-1],b=a[a.length-1],d=b.name;b.domNode&&b.domNode.remove();delete this.swatches[d];this.selectedSwatch&&this.selectedSwatch.name===d&&(this.selectedSwatch=null);1<a.length?a.pop():this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var a=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),
b=a.length-1;0<=b;b--){var d=a[b];d.parentNode.removeChild(d)}}};return b}(y,x),w=function(f){function e(b){this.mainText=b.mainText;this.subText=b.subText;this.dimKey=b.dimKey;this.titleSelectorPrefix=b.titleSelectorPrefix;this.titleValueSelector=b.titleValueSelector;this.domNode=r("#"+this.titleSelectorPrefix+this.dimKey)}e.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},
setState:function(b){return d.equals(b,r.extend({},this))?this:(r.extend(this,b),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return e}(y),B=function(p,e,b){function a(a,b,h,c,p){function k(){v=v||q.domNode.find(".dimension-heading");v.css(f.BG_COLOR,f.GREEN_BG_COLOR);d.delay(function(){d.animate(v,{"background-color":f.WHITE_BG_COLOR},200)},1E3)}var q=this;this.disableCollapseFunctionality=h.inlineTwisterData?h.inlineTwisterData.disableCollapseFunctionality:
!1;this.stringTranslationMap=h.inlineTwisterData?h.inlineTwisterData.stringTranslationMap:{};this.title=b?new e(b):null;this.dimKey=h.dimKey;this.domNode=r("#"+a+this.dimKey);this.showSlot=h.showSlot;this.logger=p;this.isTwisterCoreInitialized=this.isInlineExpanded=this.markAutoUpdated=!1;this.expanderContent=q.domNode.find(t.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=q.domNode.find(t.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=q.domNode.find(t.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);
this.expandedText=q.domNode.find(t.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=q.domNode.find(t.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=c;this.autoNotificationExpanded=q.domNode.find(t.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=q.autoNotificationExpanded.text();this.imageThumbnail=q.domNode.find(t.IMAGE_THUMBNAIL);this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.inlineExpansionLink=this.domNode.find(".tp-inline-expansion-link");
this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var v;this.autoNotificationCallback=function(a,b){var c=q.autoNotificationExpandedText;a?q.isExpanded&&b?(q.autoNotificationExpanded.find("."+n.A_COLOR_ATTAINABLE).html(c),q.autoNotificationExpanded.removeClass(n.AOK_HIDDEN)):(k(),q.setAutoUpdated(!0)):q.hideAutoNotification()};this.disableCollapseFunctionality||d.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){q.isExpanded?q.collapse():q.expand();
q.hideAutoNotification()})}a.prototype={setState:function(a,b,d,c,e,f){this.toggleSwatch&&d!==this.dimKey&&this.autoNotificationExpanded.addClass(n.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,e,f);e||c&&this.title&&this.title.setState(c)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility","");this.expanderContent&&this.expanderContent.addClass(n.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(n.ROTATE);this.expandedText&&this.expandedText.removeClass(n.AOK_HIDDEN);
this.collapsedText&&this.collapsedText.addClass(n.AOK_HIDDEN);this.imageThumbnail.addClass(n.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),
a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(t.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&this.expanderContent.removeClass(n.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(n.ROTATE);
this.expandedText&&this.expandedText.addClass(n.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(n.AOK_HIDDEN);this.imageThumbnail.removeClass(n.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!1);this.autoNotificationExpanded.addClass(n.AOK_HIDDEN);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:
"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(t.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",
a);this.expanderHeader.find(t.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=p.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?this.toggleSwatch.getInitialVisibleSwatchList():{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&
this.toggleSwatch.activatePageRefresh()},showInlineExpansionLink:function(){this.inlineExpansionLink.removeClass("aok-hidden")},hideInlineExpansionLink:function(){this.inlineExpansionLink.addClass("aok-hidden")},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,b,d){var c=this;this.expanderContent.animate({"max-height":a+
"px"},b,function(){c.setMaxHeight("");d&&d()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&this.toggleSwatch.createDisplaySwatches()},adjustSwatchWidthAndSpacing:function(){this.toggleSwatch&&this.toggleSwatch.adjustSwatchWidthAndSpacing()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(n.AOK_HIDDEN)},initializeComponents:function(a,e,f){if(!this.toggleSwatch&&a){var c=this.title.getData();
this.toggleSwatch=new b(a,{windowResizeCallback:f.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},this.domNode,c.mainText)}this.isTextSwatch=a?a.isTextSwatch:!0;this.rowCallbacks=d.extend(this.rowCallbacks,f);this.totalSwatchCount=a?a.totalSwatchCount:0;this.showSlot=e;var p=this;d.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof p.rowCallbacks.showSideSheet&&p.isTwisterCoreInitialized&&(p.rowCallbacks.showSideSheet(p.dimKey,
p.showSlot,p.title.getData()),p.hideAutoNotification())});d.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:expand",function(){"function"===typeof p.rowCallbacks.toggleInlineExpansion&&(p.rowCallbacks.toggleInlineExpansion(p.dimKey,p.showSlot,!0),p.hideAutoNotification(),p.isInlineExpanded=!0)});d.on("a:expander:desktop-configurator-inline-expansion:"+this.dimKey+":toggle:collapse",function(){"function"===typeof p.rowCallbacks.toggleInlineExpansion&&(p.rowCallbacks.toggleInlineExpansion(p.dimKey,
p.showSlot,!1),p.hideAutoNotification(),p.isInlineExpanded=!1)})},postInitialize:function(){this.isTwisterCoreInitialized=!0;var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)},handleSeeMoreIngress:function(a){var b=(this.toggleSwatch?this.toggleSwatch.getNumberOfSwatchesPerRow():0)*k.MAX_INLINE_ROWS;a<this.totalSwatchCount&&b>=this.totalSwatchCount&&(this.hideSideSheetLink(),
this.showInlineExpansionLink())}};return a}(y,w,p);return{Swatch:x,ToggleSwatch:p,Title:w,Row:B,utils:y}});"use strict";z.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(d,k){function r(d){var f=d.id&&"string"===typeof d.id,r=1===y("#"+d.id).length;if(f&&r)this.id=d.id,this.shouldRenderHTMLString=!!d.shouldRenderHTMLString,this.animationDuration=d.animationDuration||300,this.container=k.getContainer(d.id),this.onBeforeShow=d.onBeforeShow,this.onAfterHide=d.onAfterHide,
f=d.width||580,(r=this.container)&&r.width(f),v(d.id,f),n.call(this);else throw d="Side sheet initialisation failed: "+(f?"Side sheet not present in DOM, or multiple instances of side sheet ID "+d.id+" exist":"Invalid Side sheet ID"),z.log(d,"ERROR","DetailPageSideSheet"),d;}function t(d){var f=this.container;d=this.shouldRenderHTMLString?y(d):y(d).clone();f.html(d);d.css("display","block");f.removeClass("aok-hidden")}function n(){var f=this;d.declarative("close-detail-page-side-sheet:"+this.id,"click",
function(){f.close()});d.declarative("open-detail-page-side-sheet:"+this.id,"click",function(d){f.open(d&&d.data?d.data.content:null)})}function f(d){d.code&&"escape"===d.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",x))}function v(d,f){d=y("#"+d+"-background .close-button");d.length&&(d[0].style.marginRight=f+10+"px")}var y=d.$,x=null;r.prototype={open:function(d){if(d&&"string"===typeof d){t.call(this,d);if(this.onBeforeShow)this.onBeforeShow();k.showSideSheet(this.id,
this.animationDuration);x=f.bind(this);document&&document.addEventListener("keydown",x)}else z.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){k.closeSideSheet(this.id,this.animationDuration);k.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(d){var f=this.container;f&&f.width(d);v(this.id,d)},updateContent:function(d){d&&"string"===typeof d?t.call(this,d):z.log("Invalid side sheet content. Side sheet ID: "+
this.id,"ERROR","DetailPageSideSheet")}};return r});"use strict";z.when("A").register("detail-page-side-sheet-handlers",function(d){function k(d,k){n("#"+d+" .detail-page-side-sheet-content").show(function(){t({right:"0px"},d,k)})}function r(d,k){n("#"+d+" .detail-page-side-sheet-content").show(function(){t({right:"-600px"},d,k)})}function t(f,k,r){d.animate(n("#"+k+" .detail-page-side-sheet-content"),f,r)}var n=d.$;return{showSideSheet:function(d,r){n("body").css("overflow","hidden");n(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");
n("#"+d).removeClass("aok-hidden");k(d,r)},closeSideSheet:function(d,k){r(d,k);n(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");n("#"+d).addClass("aok-hidden");n("body").css("overflow","scroll")},getContainer:function(d){return n("#"+d).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(d){d.html("")}}})});