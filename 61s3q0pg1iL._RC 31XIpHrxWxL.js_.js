(function(u){var r=window.AmazonUIPageJS||window.P,ga=r._namespace||r.attributeErrors,g=ga?ga("DetailPageImageBlockAssets",""):r;g.guardFatal?g.guardFatal(u)(g,window):g.execute(function(){u(g,window)})})(function(u,r,ga){u.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(g,a){try{var e=g.$,l=e("#featurebullets_feature_div"),m=e("#productOverview_feature_div");if(l&&0<l.length&&(a.postCountMetric("FeatureBulletsRendered.GV"),m&&0<m.length)){a.postCountMetric("FeatureBulletsRenderedWithPO.GV");
var f=e("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(a.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),g.on("a:expander:feature-bullets-expander:toggle:expand",function(e){a.postCountMetric("FeatureBulletsInteraction.Expanded")}),g.on("a:expander:feature-bullets-expander:toggle:collapse",function(e){a.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(p){u.log("Feature bullets metric logging failed with error: ( "+
p+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";u.register("postMetric",function(){return{postCountMetric:function(g){if("undefined"!==typeof g){var a=r.ue;if(a){var e=a.count(g)||0;a.count(g,e+1)}}},postTimeMetric:function(g,a){if("undefined"!==typeof g&&"undefined"!==typeof a){var e=r.ue;e&&e.count(g,a)}},emitNexusMetric:function(g){r.ue&&ue.event&&ue.event(g,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(g,a,e,l,m,f,p,k){return{eventSource:"IBCarousel",
placementContext:k,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:g,intPayload:a,videoAsin:e,videoAsinList:"",groupType:l,pageUrl:m,pageAsin:f,weblabIds:p}}}});"use strict";u.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});u.register("postEarlyMetric",function(){return null});"use strict";u.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(g,a,e,l){g=g.extend(!0,{},e,l);var m=new a(g);u.register("ImageBlockAPI",
function(){return m.api});return m});"use strict";u.when("A","jQuery").execute(function(g,a){g.on("a:image:load:landingImage",function(){r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});g.loadDynamicImage(a("#landingImage"))});"use strict";u.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(g){function a(a){a&&(u.load.js(a),r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",r.parseInt(performance.now())))}
function e(a){a&&u.load.css(a)}var l=g.airyConfig;l===ga?u.when("ImageBlockBTF").execute(function(g){l=g.airyConfig;a(l.jsUrl);e(l.cssUrl)}):(a(l.jsUrl),e(l.cssUrl))});"use strict";u.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(g,a,e,l,m){var f={};return function(p){var k=this;k.dispatch=function(a,e){var k=f[a];l.isDefined(k)&&g.each(k,function(a,f){f.call(r,e)})};k.register=function(a,e){l.isDefined(f[a])||(f[a]=[]);
"function"===typeof e&&f[a].push(e)};k.model=new a(p,k);k.view=new e(p,k,k.model);k.api=new m(p,k,k.model);k.init=function(){k.model.init();k.view.init()};k.init()}});"use strict";u.when("A","imageBlockUtils").register("ImageBlockModel",function(g,a){function e(e,f,g,k,l,p){a.isDefined(e)&&(n.type=e);a.isDefined(f)&&(n.index=f);a.isDefined(g)&&(n.thumbnailIndex=g);a.isDefined(k)&&(n.variant=k);a.isDefined(l)&&(n.color=l);n.shoppableScene=p||null}function l(a){e("image",0,0,"MAIN",a||k.landingAsinColor||
k.defaultColor,null)}function m(a){a=a.data;r=g.copy(n);e(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function f(a){m(a);a=g.copy(a);a.data=g.copy(n);q.dispatch("updateView",a)}function p(){r=g.copy(n);l(n.color)}var k,q,n={},r={},F,E;return function(a,e){q=e;k=a;q.register("updateSelection",f);q.register("updateModel",m);q.register("resetModel",p);this.init=function(){l()};this.getCurrentItem=function(){return g.copy(n)};this.getPreviousItem=function(){return g.copy(r)};this.setCurrentEvent=
function(a){F=a};this.getCurrentEvent=function(){return F};this.setImmersiveViewModalInstance=function(a){E=a};this.getImmersiveViewModalInstance=function(){return E};this.updateTitle=function(a){k.title=a}}});"use strict";u.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(g,a){function e(a,e,l,k,q){function n(a){"click"===a.type&&k.postCountMetric("thumbClick");"click"===a.type&&b.overrideAltImageClickAction?z.dispatch("thumbActionClick",a):z.dispatch("updateSelection",
a)}function U(a){b.useClickZoom||z.dispatch("imageClick",a)}function F(a){b.useClickZoom||z.dispatch("imageHover",a)}function E(a){z.dispatch("button360Click",a)}function x(e){!l.isDefined(e)||"swatchClick"!==e.type&&"updatedData"!==e.type?(h.update(e),"swatchHover"!==e.type&&G.getPreviousItem().thumbnailIndex!==e.data.thumbnailIndex&&k.postCountMetric(e.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",e.data)):(h.render(e.data.color,!1,e.onload,e.type),e={hasComponents:!0,
components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",e))}function B(a){z.dispatch("resize",a)}function L(a){l.selectThumbnail(a,A)}function N(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function M(){"function"===typeof r.markFeatureInteractive&&r.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===g.useIV?u.when("a-modal").execute(function(){N()}):N();b.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],n);a.declarative("main-image-click",["click"],U);a.declarative("main-image-click",["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],E);a.on("resize",B)}function P(a){var e=
a.data,b;e&&"ingress"!==e.type&&"click"===a.type&&(b=a);return b}function K(a){var e=G.getCurrentItem(),b={type:"click"};b.$declarativeParent=a;b.data=e;return b}var h,b,z,G,A;return function(a,g,k){h=this;b=a;z=g;G=k;A=e("#imageBlock #altImages ul");var l=e("#imageBlock .canvas"),d=e("#main-image-container"),c;h.subViews=[];for(g=0;g<q.length;g++)h.subViews.push(new q[g](a,k,h,z));h.render=function(a,g,k,p){var m=0;A.find(".item").remove();a=a||G.getCurrentItem().color;e.each(h.subViews,function(e,
c){m=(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment?c.render(a,m,l,A,d,g,k,p):c.render(a,m,l,A,d,g,k))||m});var S=A.find(".a-button-selected").closest(".a-declarative");c=K(S)};h.init=function(){A=e("#imageBlock #altImages ul");var a=A.find(".a-button-selected").closest(".a-declarative"),d=a.data("action"),a=a.data(d)||{};a.color=b.landingAsinColor||b.defaultColor;z.dispatch("updateModel",{data:a});h.render(a.color,!0);b.isDebug&&r.console&&console.log(b);z.register("updateView",
x);z.register("selectThumbnail",L);M()};h.update=function(a){e.each(h.subViews,function(d,e){e.update(a)});b.usePeekHover&&("mouseleave"===a.type?z.dispatch("updateSelection",c):"click"===a.type&&(c=P(a)||c))}}}var l=["A","jQuery","imageBlockUtils","postMetric"].concat(g.views);u.when.apply(u,l).register("ImageBlockView",function(){for(var a=arguments[0],f=arguments[1],g=arguments[2],k=arguments[3],l=[],n=4,r=arguments.length;n<r;n++)l.push(arguments[n]);return e(a,f,g,k,l)})});"use strict";u.when("A",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(g,a,e,l,m,f,p){function k(d,c,b,h){if(!e.isjQueryObjDefined(d.find(".a-button-selected"))){var f=y.getCurrentItem();if(!h||"chromeless-video"!==f.type||!t.autoplayVideo)if(h=0,"image"===f.type&&(h=Math.max(E(f.color,f.variant),0)),!(f.thumbnailIndex>=t.maxAlts&&0!=h)){var g=c+h;g>=b&&(h=0,g=c);c=e.getImageHash(f.color,h,t);-1!==c&&(J.dispatch("updateModel",
{data:{index:h,thumbnailIndex:g,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=d.find(".item").get(g),e.selectGivenThumbnail(a(c),d))}}}function q(d,c,b){if((2===t.unrolledImageBlockTreatment||3===t.unrolledImageBlockTreatment)&&b)return d;var h=t.colorImages&&t.colorImages[c];c=d;2!==t.unrolledImageBlockTreatment&&3!==t.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(d){(!a(this)[0].classList.contains("thumbTypeimage")||d>=h.length||d>=t.maxAlts)&&a(this).remove()});
e.isDefined(h)&&(a.each(h,function(c,b){if(d<t.maxAlts)if(2===t.unrolledImageBlockTreatment||3===t.unrolledImageBlockTreatment){d++;var h=a(".thumbItemUnrolled");h[c]?h[c].querySelector("img").src=b.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+b.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",index:c,thumbnailIndex:d,variant:b.variant,shoppableScene:b.shoppableScene},b.thumb,Q,"imageThumbnail"),d++}),f.isEnabled&&p.logAltImgRequestPlacedOnThumbnails(a,f,y),k(Q,c,d,b));return d}function n(a,d){t.useIV&&
e.isDefined(d.hiRes)&&a.css("cursor","pointer")}function U(d,c){if("image"===d.type){var b=a("#image-canvas-caption #canvasCaption"),h,f=t.staticStrings,g=t.colorImages,k=d.color,w=d.index;e.isShoppableScenesEnabled()&&d.shoppableScene?h=f.clickSceneTagsToShopProducts:c&&t.useIV?h=f.clickToExpand:g[k]&&g[k][w].hiRes&&t.useHoverZoom?(h=t.useHoverZoomIpad?f.touchToZoom:t.useClickZoom?f.clickToZoom:f.rollOverToZoom,t.hoverZoomIndicator&&(h="\x3cimg src\x3d'"+t.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+
h)):t.useIV&&(h=f.clickToExpand);b.html(h)}}function F(){d.find("li").removeClass("selected");a("#image-canvas-caption #canvasCaption").empty();e.hideUnavailable()}function E(a,d){return e.getIndexForVariant(a,d,t)}function x(a,d,c){var e=d.thumbnailIndex,b=t.colorToAsin[d.color]&&t.colorToAsin[d.color].asin;d="altImageHover"===c&&w&&w.altImageIdx===e&&w.asin===b&&"swatchClick"===w.event?!0:"swatchHover"===c?w&&w.asin===b&&w.event===c:w&&w.altImageIdx===e&&w.asin===b&&w.event===c;if(!d){var h="#",
f=a.find(".imgTagWrapper img").get(0);f&&(h=f.src);a=new Image;a.onload=function(){if(f){f.src=h;var a=f.width,d=f.height,g=f.naturalWidth,k=f.naturalHeight;try{var w=(Math.abs(a/g*k-d)/d).toFixed(2);.01<w&&(r.ue&&((("landing"!==c||H||R)&&"swatchClick"!==c||r.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?r.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||R?"altImageHover"!==c||H||(r.ue.count("imageBlock-PC-hi_res_alt_image_distortion",
1),H=!0):(r.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),R=!0)),r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},r.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+b+" Event:"+c+" Diff:"+w.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+b+" at altImageIdx "+e+" Event:"+c+" Diff:"+w.toString()+"]"},a)))}catch(l){r.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},
r.ueLogError(l,a))}}};a.src=h;w.altImageIdx=e;w.asin=b;w.event=c}}function B(d,b){var h="a-dynamic-image";if(!t.acEnabled){var f;a.each(d.main,function(a,d){e.isDefined(f)||(f=parseFloat(d[1]/d[0])<=parseFloat(t.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=f}var g=e.getMaxDimensionsOfMainImage(d.main,c,t),w=g[0],k=g[1],g=a("\x3cdiv\x3e\x3c/div\x3e"),w={"max-height":w,"max-width":k};g.addClass(h).css(w).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",
d.main);return g}function L(a,c,e){var b="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",b,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+a);e=d.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.addClass("celwidget").attr("cel_widget_id",b);e.children("span").css("display","inline-block");J.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:c.shoppableScene,
imageSource:c.hiRes||c.large||c.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(d,e){d.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){g.trigger("shoppable-scene-image-loaded",
{index:a,shoppableScene:c.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",b,{wb:1});return e}function N(a,c,b){b=B(a,b);a=e.isShoppableScenesEnabled()&&a.shoppableScene?L(c,a,b):d.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+c+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":c+1});a.find(".placeHolder").replaceWith(b);d.find(".list").append(a);g.loadImageManually(b);return a}function M(a){var d=c.css("height");null!==d&&a.find(".imgTagWrapper").css("height",d);a.addClass("selected");t.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(t.imgTagWrapperClasses)}function P(a){if(a.isUserGenerated){var d=y.getPreviousItem(),c=a.variant;e.isDefined(c)&&d.thumbnailIndex!==a.thumbnailIndex&&(f.isEnabled&&
p.logAltImgRequestServed(f),m.postCountMetric("ImageThumbnailSelectedVariant:"+c),0===c.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+c),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function K(c,h,f,w){if((2===t.unrolledImageBlockTreatment||3===t.unrolledImageBlockTreatment)&&!w&&"unavailable"!==c.type)c=t.colorImages&&t.colorImages[f],a(".unrolledImg").each(function(d){a(this).remove()}),e.isDefined(c)&&(a.each(c,function(d,c){if(d<t.maxAlts){var e=a(".unrolledImg");
e[d]?a(".unrolledImg #unrolledImgNo"+d+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):d>=e.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(d+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
d+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),g.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")));else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===
c.type){(f=e.isDefined(h))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");w=e.getImageHash(c.color,c.index,t);if(-1===w)return h={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},b(c)||(J.dispatch("updateModel",h),e.showUnavailable(c.color)),-1;var k=d.find(".item.itemNo"+c.thumbnailIndex);e.isjQueryObjDefined(k)||(k=N(w,c.thumbnailIndex,h),f?(R=H=!1,x(k,c,"swatchClick")):x(k,c,"altImageHover"));M(k);J.dispatch("loadMagnifier");U(c);n(k,w);P(c);g.trigger("dp:image-block:update",
w)}}function h(){a("#imageBlock").css("opacity","1");d.css("opacity","1");e.spinner(d,!1)}function b(a){return e.lazyLoadingRequired(a,y,t)}function z(){var b=d.find(".item .imgTagWrapper"),h=e.getContainerHeight(c,t.holderRatio,t.holderMaxHeight);0<h&&(c.height(h),b.height(h));d.find("img.a-dynamic-image").each(function(){var d=a(this);d.data("a-manual-replacement")&&g.loadDynamicImage(this);var b=d.data("a-dynamic-image"),b=e.getMaxDimensionsOfMainImage(b,c,t);d.css({"max-height":b[0]+"px","max-width":b[1]+
"px"})})}function G(a){U(y.getCurrentItem(),"mouseenter"===a.type)}var A,t,y,J,Q,d,c,w={},I,D=null,H=!1,R=!1;g.on("triggerImageAjax",function(a){var d=y.getCurrentItem().color;t.colorImages[d]||(t.colorImages[d]=a);a={type:"updatedData",data:y.getCurrentItem()};J.dispatch("updateView",a);(d=t.colorToAsin[d])&&d.asin&&u.register(e.rankedImagesReadyEvent(d.asin))});return function(a,f,w,k){A=this;t=a;y=f;J=k;t.colorImages[t.landingAsinColor]=t.colorImages[t.defaultColor];A.render=function(a,e,f,g,w,
k,l,p){d=f;Q=g;c=w;I=q(e,a,k);k?0===e&&x(d.find(".item.itemNo0"),y.getCurrentItem(),"landing"):(e=y.getCurrentItem(),b(e)&&J.dispatch("updateModel",{data:{type:"lazy-loaded"}}));e=y.getCurrentItem();f=!k;b(e)||(h(),F(),f&&d.find(".list .item").remove());2===t.unrolledImageBlockTreatment||3===t.unrolledImageBlockTreatment?"swatchClick"===p&&t&&t.colorImages?(D=t.colorImages[a],K(y.getCurrentItem(),l,a,k)):"updatedData"===p&&t&&t.colorImages&&t.colorImages[a]!==D&&(D=t.colorImages[a],K(y.getCurrentItem(),
l,a,k)):K(y.getCurrentItem(),l,a,k);return I};A.update=function(a){var c=a.data;y.setCurrentEvent(a);"ingress"===c.type||b(a.data)||(h(),F());if("swatchHover"===a.type)if(c.color===y.getCurrentItem().color)K(y.getCurrentItem(),null,c.color,!0);else{if(!a.captured){var f=Math.max(E(c.color,y.getCurrentItem().variant),0),f=e.getImageHash(c.color,f,t);if(-1===f)b(c)||e.showUnavailable(c.color),c=-1;else{var k=d.find(".swatchHoverExp"),w=B(f);k.find(".imgTagWrapper").html(w);g.loadImageManually(w);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");
M(k);x(k,c,"swatchHover");g.trigger("dp:image-block:update",f);c=void 0}-1!==c&&(a.captured=!0)}}else"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+I),K(c,null,c.color,!0),t.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,Q),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+I))))};
t.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");J.register("imageHover",G);J.register("resize",z)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(g,a,e,l,m,f,p){function k(f,g,d,c,k){if(!e.isjQueryObjDefined(f.find(".a-button-selected"))){var l=b.getCurrentItem();if(!c||"chromeless-video"!==l.type||!h.autoplayVideo){c=0;"image"===l.type&&(c=
Math.max(e.getIndexForVariant(l.color,l.variant,h),0));var p=0;e.isDefined(h.heroImage[l.color])&&(p=h.heroImage[l.color].length);k=c-(g>=h.maxAlts?h.maxAlts-k-p:0);g=0<=k?g+k:c+p;g>=d&&(c=0,g=p);d=e.getImageHash(l.color,c,h);-1!==d&&(z.dispatch("updateModel",{data:{index:c,thumbnailIndex:g,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=f.find(".item").get(g),e.selectGivenThumbnail(a(d),f))}}}function q(a){if(!h.useChildVideos)return e.lazyLoadingRequired(b.getCurrentItem(),b,
h)?void 0:h.videos;if(h.colorToVideo[a])return h.colorToVideo[a];var f=h.colorToAsin[a];if(f&&f.asin){var d={};d.params={asin:f.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(d.success=function(a){videosOnTwisterRefresh(a)},l.load(VIDEO_AJAX_ENDPOINT,d));return h.colorToVideo&&h.colorToVideo[a]}}function n(g,l,d){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&d)return g;
var c=q(l),w=e.isDefined(c)&&0<c.length&&h.alwaysIncludeVideo?1:0;l=h.colorImages&&h.colorImages[l];var c=g,m=0;e.isDefined(l)&&(a.each(l,function(d,c){if(m>=h.maxAlts-w&&g<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var b=a(".thumbItemUnrolled");b[g]?b[g].querySelector("img").src=c.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
(g+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(g+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(g+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",index:d,thumbnailIndex:g,variant:c.variant,shoppableScene:c.shoppableScene},
c.thumb,G,"imageThumbnail");g++}m++}),f.isEnabled&&p.logAltImgRequestPlacedOnThumbnails(a,f,b),k(G,c,g,d,w));return g}function U(a,b){h.useIV&&e.isDefined(b.hiRes)&&a.css("cursor","pointer")}function F(b,f){if("image"===b.type){var d=a("#image-canvas-caption #canvasCaption"),c,g=h.staticStrings,k=h.colorImages,l=b.color,p=b.index;e.isShoppableScenesEnabled()&&b.shoppableScene?c=g.clickSceneTagsToShopProducts:f&&h.useIV?c=g.clickToExpand:k[l]&&k[l][p].hiRes&&h.useHoverZoom?(c=h.useHoverZoomIpad?g.touchToZoom:
h.useClickZoom?g.clickToZoom:g.rollOverToZoom,h.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):h.useIV&&(c=g.clickToExpand);d.html(c)}}function E(b,f){var d="a-dynamic-image";if(!h.acEnabled){var c;a.each(b.main,function(a,d){e.isDefined(c)||(c=parseFloat(d[1]/d[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=c}var g=e.getMaxDimensionsOfMainImage(b.main,t,h),k=g[0],l=g[1],g=a("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,
"max-width":l};g.addClass(d).css(k).attr({"data-old-hires":b.hiRes,"data-a-manual-replacement":"true",onload:f}).data("a-dynamic-image",b.main);return g}function x(a,b,d){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",c,{wb:1});d.attr("data-a-image-name","shoppable-scene:"+a);d=A.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");d.addClass("celwidget").attr("cel_widget_id",
c);d.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:d.find(".mirai-scene-tag-placeholder"),$viewProductsButton:d.find(".mirai-scene-view-products-button")});"MutationObserver"in r&&(new MutationObserver(function(d,c){d.forEach(function(d){"childList"===d.type&&d.target.classList.contains("mirai-scene-image-block-tag-container")&&1===d.addedNodes.length&&"IMG"===d.addedNodes[0].tagName&&
""!==d.addedNodes[0].src&&(d=d.addedNodes[0],"function"!==typeof d.onload&&(d.onload=function(){g.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),c.disconnect())})})).observe(d.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return d}function B(a,b,d){d=E(a,d);a=e.isShoppableScenesEnabled()&&a.shoppableScene?x(b,a,d):A.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);A.find(".list").append(a);g.loadImageManually(d);return a}function L(a){var b=t.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");h.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function N(f,
k,d,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&!c&&"unavailable"!==f.type){f=h.colorImages&&h.colorImages[d];k=a(".unrolledImg");d=q(d);var l=e.isDefined(d)&&0<d.length&&h.alwaysIncludeVideo?1:0;k.length>h.maxAlts&&k.each(function(d){d>=h.maxAlts&&a(this).remove()});e.isDefined(f)&&a.each(f,function(d,c){d<h.maxAlts-l+h.additionalNumberOfImageAlts&&d>=h.maxAlts-l&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(d+l+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(d+l)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(d+l)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===f.type||"unavailable"===f.type||"lazy-loaded"===f.type){d=e.getImageHash(f.color,f.index,h);if(-1===d)return k={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(f,b,h)||(z.dispatch("updateModel",k),e.showUnavailable(f.color)),-1;c=A.find(".item.itemNo"+f.thumbnailIndex);e.isjQueryObjDefined(c)||
(c=B(d,f.thumbnailIndex,k));L(c);z.dispatch("loadMagnifier");F(f);U(c,d);g.trigger("dp:image-block:update",d)}}function M(){var b=A.find(".item .imgTagWrapper"),f=e.getContainerHeight(t,h.holderRatio,h.holderMaxHeight);0<f&&(t.height(f),b.height(f));A.find("img.a-dynamic-image").each(function(){var d=a(this);d.data("a-manual-replacement")&&g.loadDynamicImage(this);var c=d.data("a-dynamic-image"),c=e.getMaxDimensionsOfMainImage(c,t,h);d.css({"max-height":c[0]+"px","max-width":c[1]+"px"})})}function P(a){F(b.getCurrentItem(),
"mouseenter"===a.type)}var K,h,b,z,G,A,t,y;g.on("triggerImageAjax",function(a){var f=b.getCurrentItem().color;h.colorImages[f]||(h.colorImages[f]=a);a={type:"updatedData",data:b.getCurrentItem()};z.dispatch("updateView",a);(f=h.colorToAsin[f])&&f.asin&&u.register(e.rankedImagesReadyEvent(f.asin))});return function(f,g,d,c){K=this;h=f;b=g;z=c;h.colorImages[h.landingAsinColor]=h.colorImages[h.defaultColor];K.render=function(d,c,f,g,k,l,p){A=f;G=g;t=k;y=n(c,d,l);l||(c=b.getCurrentItem(),e.lazyLoadingRequired(c,
b,h)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=b.getCurrentItem();f=!l;e.lazyLoadingRequired(c,b,h)||(a("#imageBlock").css("opacity","1"),A.css("opacity","1"),e.spinner(A,!1),A.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),f&&A.find(".list .item").remove());N(b.getCurrentItem(),p,d,l);return y};K.update=function(a){};h.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");z.register("imageHover",P);z.register("resize",
M)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(g,a,e,l,m,f){function p(a){N?a.css("cursor","url('"+F.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function k(a){var f=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(f))for(var f=f[1].split("_"),g=0;g<f.length;g++){var h=f[g].match(/^([A-Z]+)(\d+(\.\d+)?)$/);
e.isDefined(h)&&(a[h[1]]=parseInt(h[2],10))}return a}function q(n,q){function K(){var a;q.useClickZoom?(a=q.offsetInClickZoom,a=[Math.min(1,Math.max(0,w[0]-(D[0]+a))/(D[2]-2*a)),Math.min(1,Math.max(0,w[1]-(D[1]+a))/(D[3]-2*a))]):a=c&&c.updatePosition();if(a&&d&&d.detailSize){var b=[d.detailSize[0]-d.rect.width,d.detailSize[1]-d.rect.height];g.capabilities.rtl?d.detailImage.get(0).style.right=-(a[0]*b[0])+"px":d.detailImage.get(0).style.left=-(a[0]*b[0])+"px";d.detailImage.get(0).style.top=-(a[1]*
b[1])+"px"}}function h(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function b(d){var c=u?d.originalEvent.touches[0]||d.originalEvent.changedTouches[0]:"";w=u?[c.pageX,c.pageY]:[d.pageX,d.pageY];if(g.capabilities.rtl){var b=a(r).width();w=u?[b-c.pageX,c.pageY]:[b-d.pageX,d.pageY]}}function z(a){u&&a.preventDefault();b(a);q.useClickZoom?a=[D[0],D[1],D[0]+D[2],D[1]+D[3]]:(a=c?c.offset:n.offsetParent().offset(),a=F.acEnabled?[a.left,a.top,x.width()+a.left,x.height()+a.top]:[I[0]+
a.left,I[1]+a.top,I[0]+I[2]+a.left,I[1]+I[3]+a.top]);w[0]<a[0]||w[1]<a[1]||w[0]>=a[2]||w[1]>=a[3]||F.acEnabled&&!h(n)?(q.fadeMagnifier?X||(X=!0,da=setTimeout(function(){G(!0)},500)):q.useClickZoom||G(),C&&(C=!1,clearTimeout(Z))):(C||(C=!0,Z=setTimeout(function(){l.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&f.logHoverZoomRequestServed(m)},1E3)),q.fadeMagnifier&&X&&(X=!1,clearTimeout(da)),K())}function G(b){b&&y.suppressMagnifier(!0);if(E&&(d&&d.hide(),c&&(c.destroy(),c=null),E=!1,u?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),
a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),t(),b))n.one("click.magnifier touchstart.magnifier",function(a){A(a,!0)})}function A(e,f){f&&y.suppressMagnifier(!1);if(!E&&!S&&(0===L&&(l.postCountMetric("dppc_hoverTime",new Date-(r.ue&&r.ue.t0||0)),L=1),ca[T]||(l.postCountMetric("dppc_hoverMain"),ca[T]=1),I=[n.position().left,n.position().top,n.width(),n.height()],T&&(b(e),d?d.refit().show():d=new oa,q.useClickZoom||(c=c||new Y),
D=d.getWindowSize(),K()),E=!0,u?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",z).bind("touchend.magnifier",G),a(document).trigger("engaged.magnifier")):(F.acEnabled?x.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",z)),f)){var g=a("#zoomWindow");if(0<g.length)g.one("click.magnifier touchend.magnifier",function(a){G(!0)})}}function t(){q.useHoverZoom&&(u?n.bind("touchstart.magnifier touchmove.magnifier",
A):F.acEnabled?h(n)&&x.bind("mousemove.magnifier",A):n.bind("mousemove.magnifier",A))}var y=this,x=n.offsetParent(),B={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};q=a.extend(B,q);q.adjustment=[10,0,-10,0];var d=null,c=null,w=null,I=null,D=null,U={"null":1,"":1,undefined:1},E=!1,S=!1,T=q.detailImageUrl,u=q.useHoverZoomIpad||0,L=0,ca={},Y=function(){function c(a){var b=Math.round(Math.min(n.width(),d.rect.width/a));a=Math.round(Math.min(n.height(),
d.rect.height/a));h.css({width:b,height:a});e=[b,a]}var b=this,e=[0,0],f=(d.detailSize&&d.detailSize[0]||5E8)/I[2],g=(d.detailSize&&d.detailSize[1]||5E8)/I[3],f=g>f?g:f;a("#magnifierLens").remove();var h=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});q.generalImageUrls.zoomLensBackground&&h.css({backgroundImage:"url("+q.generalImageUrls.zoomLensBackground+")"});F.showMagnifierOnHover?p(h):h.css("cursor","pointer");b.updatePosition=function(){var a=[I[2]-e[0],I[3]-e[1]],d=0>=a[0]?
.5:Math.max(0,Math.min(1,(w[0]-e[0]/2-I[0]-b.offset.left)/a[0])),c=0>=a[1]?.5:Math.max(0,Math.min(1,(w[1]-e[1]/2-I[1]-b.offset.top)/a[1])),f=I[0]+Math.round(d*a[0]),a=I[1]+Math.round(c*a[1]);h.get(0).style.left=f+"px";h.get(0).style.top=a+"px";return[d,c]};b.destroy=function(){h.remove()};b.offset=n.offsetParent().offset();c(f);b.updatePosition();h.appendTo(n.parent());d.detailImage[0].complete||d.detailImage.load(function(){var a=d.detailImage.width()/I[2];c(a);b.updatePosition()})};Y.preload=function(){y.preload(q.generalImageUrls.lensBackgroundUrl)};
var oa=function(){function d(){var c={};if("over"===q.location){var c=q.useClickZoom,g={},k=a("#leftCol"),l=a("#centerCol"),w=a("#rightCol"),p=a("#hover-zoom-end"),m=a("#actionPanelContainer"),z=e.isjQueryObjDefined(k)?k.outerHeight():l.outerHeight();g.top=e.isjQueryObjDefined(k)?k.offset().top:l.offset().top;g.bottom=z+g.top;g.right=e.isjQueryObjDefined(w)?w.offset().left:m.offset().left;g.left=c?0:k.offset().left+k.outerWidth();e.isjQueryObjDefined(p)&&p.offset().top>g.bottom&&(g.bottom=p.offset().top);
c=g}else"right"===q.location&&(c=n.offset(),c={left:c.left+n.outerWidth(),top:c.top,right:c.left+n.outerWidth()+400,bottom:c.top+400});q.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+a(q.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,a(r).scrollTop()+a(r).height());c.left+=f[0];c.top+=f[1];c.right+=f[2];c.bottom+=f[3];c.width=c.right-c.left;c.height=c.bottom-c.top;q.enhancedHoverOverlay&&e.isDefined(r.pageXOffset)&&(g=a(r).width(),c.width=g-c.left+r.pageXOffset-18,c.height-=14);
h.css({left:c.left,top:c.top,width:c.width,height:c.height});b.rect=c;return b}function c(a){var d=new Image;b.detailSize=[0,0];d.onload=function(){b.detailSize=[d.width,d.height];K()};d.src=a.attr("src");if(0<d.width&&0<d.height)b.detailSize=[d.width,d.height];else if(q.detailImageSize)b.detailSize=q.detailImageSize;else{a=k(d.src);var e=I[2]/I[3];a.SS||a.AA?(a=a.SS||a.AA,b.detailSize=[a,a]):a.SX?b.detailSize=[a.SX,Math.round(a.SX/e)]:a.SY?b.detailSize=[Math.round(a.SY*e),a.SY]:a.SL&&(b.detailSize=
1<=e?[a.SL,Math.round(a.SL/e)]:[Math.round(a.SL*e),a.SL])}}var b=this,f=q.adjustment;a("#zoomWindow").remove();var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:q.zIndex};q.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var h=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);q.fadeMagnifier&&h.fadeIn(200);q.useClickZoom&&(N?h.css("cursor",'url("'+q.zoomOutIcon+'"), auto'):(h.css("cursor","-webkit-zoom-out"),
h.css("cursor","-moz-zoom-out"),h.css("cursor","zoom-out")));b.updateImage=function(d){d=a("\x3cimg id\x3d'detailImg' src\x3d'"+d+"'/\x3e").css("position","absolute");b.detailImage&&b.detailImage.remove();h.append(d);a(document).trigger("updated.magnifier");b.detailImage=d;c(b.detailImage)};b.refit=function(){d();c(b.detailImage);return b};q.fadeMagnifier?(b.show=function(){h.fadeIn(200);return b},b.hide=function(){h.fadeOut(200);return b}):(b.show=function(){h.show();return b},b.hide=function(){h.hide();
return b});b.destroy=function(){h.remove();return b};b.getWindowSize=function(){return[b.rect.left,b.rect.top,b.rect.width,b.rect.height]};b.updateImage(T);d();h.appendTo(document.body)},X=!1,da,C=!1,Z;y.preload=function(d){d=a.makeArray(d);for(var c=d.length,b=0;b<c;b++)d[b]instanceof Array?y.preload(d[b]):"string"===typeof d[b]&&d[b]&&!U[d[b]]&&(U[d[b]]=new Image,U[d[b]].src=d[b])};y.changeImage=function(c,b){E&&G();T=b;n.attr("src",c);y.preload(c);I=[n.position().left,n.position().top,n.width(),
n.height()];b&&("immediately"===q.preload?y.preload(b,!0):a(r).ready(function(){y.preload(b)}),d?d.updateImage(b):n.attr("data-old-hires",b))};y.destroy=function(){F.acEnabled?x.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");c&&c.destroy();c=null;d&&d.destroy();d=null};y.detailImage=function(){return d.detailImage};y.suppressMagnifier=function(a){S=
a};y.isEngaged=function(){return E};y.engageMagnifier=A;y.disengageMagnifier=G;n[0].complete?t():n.one("load",t);y.preload(n.attr("src"));r.performance&&performance.now&&r.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(q.preload){var ka=q.detailImageUrl,B=function(){y.preload(ka,!0);q.useClickZoom||Y.preload()},aa=q.preload;aa.constructor!==Array&&(aa=[aa]);for(var v=0;v<aa.length;v++)if("immediately"===aa[v])B();else if(a(r)[aa[v]])a(r)[aa[v]](B);else a(r).bind(aa[v],B)}return y}
function n(){if(F.useHoverZoom){var g={adjustment:[0,0,1,1],generalImageUrls:F.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:F.useHoverZoomIpad,useHoverZoom:F.useHoverZoom,useClickZoom:F.useClickZoom,fadeMagnifier:F.fadeMagnifier,zoomOutIcon:F.staticImages.zoomOutCur,enhancedHoverOverlay:F.enhancedHoverOverlay||F.atfEnhancedHoverOverlay};B&&(B.destroy(),B=ga);var k=u.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");
e.isjQueryObjDefined(k)?F.useClickZoom?(k.one("click.loadmagnifier touchstart.loadmagnifier",function(a){B=new q(k,g);B.engageMagnifier(a,!0)}),N?k.css("cursor",'url("'+F.staticImages.zoomInCur+'"), auto'):(k.css("cursor","-webkit-zoom-in"),k.css("cursor","-moz-zoom-in"),k.css("cursor","zoom-in"))):B=new q(k,g):m.isEnabled&&f.logHoverZoomApplicability(a,m)}}var U,F,E,x,B,u,N=navigator.userAgent.match(/msie|trident/i);return function(a,e,f,g){U=this;F=a;E=e;m.refToModel=E;x=g;U.render=function(a,e,
f,g,h,k){u=f;B&&(B.destroy(),B=ga)};U.update=function(a){};x.register("loadMagnifier",n);x.register("resize",n)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(g,a,e,l){function m(a,f,g){a=(a=g?g:e.getColorFromState(f.getState().hovered_variations,k))&&""!==a?a:k.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});l.postCountMetric("swatchHover")}function f(a,f,g,p){a=(a=p?p:e.getColorFromState(f.getState().selected_variations,
k))&&""!==a?a:k.defaultColor;a===q.getCurrentItem().color?"function"===typeof g&&g():(n.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof r.markFeatureRender&&r.markFeatureRender("imageblock",a);g()}}),l.postCountMetric("swatchClick"))}var p,k,q,n;return function(a,e,l,x){p=this;k=a;q=e;n=x;g.on("image-block-twister-swatch-hover",m);g.on("image-block-twister-swatch-click",f);p.render=function(a,
e,f,g,k){};p.update=function(a){}}});"use strict";u.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(g,a,e,l,m,f,p){function k(d,c,e,f){!b.autoplayVideo||ca||b.useChromelessVideoPlayer?!l.isjQueryObjDefined(d.find(".a-button-selected"))&&(e=z.getCurrentItem(),!f||b.prioritizeVideos||"chromeless-video"===e.type&&b.autoplayVideo)&&(f=l.getVideoHash(e.color,0,b),-1===f||e.thumbnailIndex>=b.maxAlts-1||(c+=0,G.dispatch("updateModel",
{data:{index:0,thumbnailIndex:c,variant:f.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),c=d.find(".item").get(c),l.selectGivenThumbnail(a(c),d))):(l.selectGivenThumbnail(d.find("img:last"),d),l.fadeToThumbnail(d.find("img").length-1,J,d))}function q(a){var d=z.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[d]){var c=function(){if(a){b.colorToVideo[d]=a;var c={type:"updatedData",data:z.getCurrentItem()};G.dispatch("updateView",c)}};b.lazyLoadExperienceDisabled?
c():u.when(l.rankedImagesReadyEvent(b.colorToAsin[d].asin)).execute(function(){c()})}}function n(a){if(!b.useChildVideos)return l.lazyLoadingRequired(z.getCurrentItem(),z,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var d=b.colorToAsin[a];if(d&&d.asin){var c={};c.params={asin:d.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(c.success=function(a){q(a)},m.load("/gp/product/features/apparel-main-image/videos.html",
c));return b.colorToVideo&&b.colorToVideo[a]}}function U(a){d&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(d.hide(),t.parent().css("z-index",-1),y.hide())}function F(){G.dispatch("selectThumbnail",l.useTabbedImmersiveView(b)?1:0)}function E(c,b,g,h){return e.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:b.url,swfUrl:g.swfUrl,foresterMetadataParams:g.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},
experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=l.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";f.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){F();f.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){F();f.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){d.seek(0)}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(d,b,e){d=e.durationSeconds-
e.playheadTimeSeconds;c.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*d,.1,function(){c.parent().css({"background-color":"transparent","z-index":-1});F();a(this).show().css("opacity",1)})}}]})}function x(e,f){if("chromeful-video"===e.type||"chromeless-video"===e.type||"unrolled-video-add"===f){var h=l.getVideoHash(e.color,e.index,b);if(-1===h)return-1;if("chromeful-video"===e.type)a:{var k=e.thumbnailIndex+1,p=J.width()/J.height(),m=parseInt(h.videoWidth,10),
n=parseInt(h.videoHeight,10);l.updateAspectRatio(p,m,n,t);if(d&&"unrolled-video-add"!==f)d.show(),l.loadMediaIntoAiry(d,h,c,b.tabletWeb);else if(b.tabletWeb)d=D;else if(d=l.createAiryInstanceForChromefulNotUseTabbedImmersiveView(t,h,c,null,b.autoplayVideo,J,y,A,k,b.useTabbedImmersiveView,R,H,S,f),"unrolled-video-add"===f){d.show();l.loadMediaIntoAiry(d,h,c,b.tabletWeb);break a}b:if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(l.useTabbedImmersiveView(b)){if(1<l.getVideosCount(z.getCurrentItem().color,
b)){if(l.isDefined(Q)){y.show();break b}Q=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);y.find("#videoCaption").append(Q);g.declarative.create(Q,"videoIngressClick",w)}l.playVideoInImmersiveView(b,z.getCurrentItem().color)&&(g.declarative.create(t,"videoIngressClick",w),t.attr&&t.attr("data-ux-click",""),t.children().css("z-index","-1"),t.css("display","inline-block"))}else y.find("#videoCaption").text(b.staticStrings.playVideo),y.show();h=
d;b.autoplayVideo&&h&&!ca&&(l.toggleVideoCaption(y),h.setVolume(0),h.show(),h.play(),ca=!0)}else if(d&&"unrolled-video-add"!==f)d.show(),l.loadMediaIntoAiry(d,h,c,b.tabletWeb),d.play(),y.show();else if(d=E(t,h,c))"unrolled-video-add"===f&&(d.show(),l.loadMediaIntoAiry(d,h,c,b.tabletWeb)),d.play()}}function B(d,c,e){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&e)return d;var h=n(c);c=d;var p=a(".unrolledImg"),m=l.isDefined(h)&&0<h.length&&b.alwaysIncludeVideo?1:0;l.isDefined(h)&&
0<h.length&&!b.alwaysIncludeVideo&&d===b.maxAlts&&f.postCountMetric("IBVideoDrop");p.length>b.maxAlts&&p.each(function(d){d>=b.maxAlts&&a(this).remove()});m&&d===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):A.find(".item:last").remove(),d--);l.isDefined(h)&&(a.each(h,function(c,e){if(d<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var g=b.useChromelessVideoPlayer?
"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+g+" thumbIndex"+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+d+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+d+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+d+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+
'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+d+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+d+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
d+'" class\x3d"videoIndex'+c+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));2===b.dp60VideoPosition&&L(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var g=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",k={type:g,index:c,thumbnailIndex:d,variant:e.variant};w={type:"video-ingress",index:c,thumbnailIndex:d,variant:e.variant};l.useTabbedImmersiveView(b)&&("chromeful-video"===g&&(Y+=" videoBlockIngress  videoBlockDarkIngress",
e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(Y+=" a-align-top"));l.createThumbnail(k,e.thumb,A,Y);2===b.dp60VideoPosition&&L(A,b.dp60VideoPosition);if(l.useTabbedImmersiveView(b)){N(A.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL);var k=1<h.length?"multiple-videos":"one-video",p=1<h.length?h.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;p&&A.find(".videoBlockIngress").append(A.find("#videoCount_template").clone().text(p).attr("id",
"videoCount")).addClass(k)}k=f.buildNexusMetric("ib.thumbnailImpression",d+1,e.mediaObjectId,e.groupType,R,H,S,T);f.emitNexusMetric(k);k=f.buildNexusMetric("ib.thumbnailRender",d+1,e.mediaObjectId,e.groupType,R,H,S,T);f.emitNexusMetric(k);ha||(ha=!0,f.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}d++}if(l.useTabbedImmersiveView(b))return!1}),k(A,c,d,e),b.imageBlockRenderingStartTime&&f.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",
g.now()-b.imageBlockRenderingStartTime));return d}function L(d,c){if(0!==c)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var e=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=d.children(".thumbTypeimage"),e=d.children(".thumbType"+e);f&&e&&f[c-1]&&a(f[c-1]).before(e[0]);e=a(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");e=e.children(".unrolledImg.videoMedia");f&&e&&f[c-1]&&a(f[c-1]).before(e[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(d){for(var c=
null,b=0;b<this.classList.length;b++)this.classList[b].includes("itemNo")&&(c=b);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+d);this.querySelectorAll("div")[1].id="unrolledImgNo"+d})}else f=d.children(".imageThumbnail"),e=d.children(".videoBlockIngress"),f&&e&&f[c-1]&&a(f[c-1]).before(e[0])}function N(a,d){var c=a.attr("src");if(c&&d){a.attr("src",d);var b=new Image;b.onload=function(d){a.attr("src",c)};b.src=c}}function M(a){d&&d.pause();a.data=w;a.clickTimeStamp=a.$event.timeStamp;
var c="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";G.dispatch("imageClick",a);f.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);a=f.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,R,H,S,T);f.emitNexusMetric(a);f.postCountMetric(c)}function P(a){D=a.player;D.hide=function(){D.pause();g.$("#main-video-container").find(".vse-player-container").hide()};D.show=function(){g.$("#main-video-container").find(".vse-player-container").show();
D.play()};D.getMediaSourceInfo=function(){return l.getMediaSourceInfo()}}function K(d,c,e,f,h,k){U(k);t=null!==k?a("#unrolledImgNo"+k.thumbnailIndex):f.find("#main-video-container");y=null!==k?"":t.parent().find("#video-canvas-caption");J=null!==k?a(".unrolledScrollBox"):a("#main-image-container");R=r.location.href;d=z.getCurrentItem().color;!0===h?H=b.mediaAsin:(H=b.colorToAsin[d]&&b.colorToAsin[d].asin,H=l.isDefined(H)?H:b.mediaAsin);b.useChromelessVideoPlayer||t.addClass("chromeful-container");
null!==k?x(k,"unrolled-video-add"):x(z.getCurrentItem(),"");l.useTabbedImmersiveView(b)&&g.declarative("videoIngressClick",["click"],M);d=z.getCurrentItem().color;h=l.getVideoHash(d,0,b);-1!==h&&b.tabletWeb&&(h=l.getNilgiriServiceAjaxRequest(b,d,h),p.get(g,"#main-video-container",h,function(){g.$("#main-video-container").find(".vse-player-container").hide()},function(){g.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var h,b,z,G,A,t,y,J,Q,d,c,w,I,D,H,R,S,T,W,ha=!1,ca=!1,Y="videoThumbnail";
return function(d,e,k,p){h=this;b=d;z=e;G=p;c=b.airyConfig;S=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(W="tablet",T="applicationType.ImageBlock.vse_ib_tablet_web"):g.capabilities.tablet?(W="tablet",g.capabilities.isAmazonApp&&(T="applicationType.ImageBlock.vse_ib_tablet_app")):(W="desktop",T="desktop_web.ImageBlock.vse_ib_iv");h.render=function(d,c,e,f,h,g){var k=[];if(2===
b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){A=a("ul.regularAltImageViewLayout");I=B(c,d,g);k=[];c=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var l=0;l<c.length;l++){var p=c[l].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",w=Number(c[l].classList[2].slice(10)),m=a(".thumbItemUnrolled").index(c[l]);k.push({color:d,thumbnailIndex:m,
type:p,varient:"MAIN",index:w})}for(l=0;l<k.length;l++)K(d,e,f,h,g,k[l])}else A=f,I=B(c,d,g),K(d,e,f,h,g,null);return I};h.update=function(a){var d=a.data;"ingress"===d.type||l.lazyLoadingRequired(d,z,b)||U(null);if("swatchHover"===a.type)d.color===z.getCurrentItem().color?x(z.getCurrentItem(),""):a.captured||l.lazyLoadingRequired(d,z,b)&&!l.lazyLoadOnHoverEnabled(b)&&x(z.getCurrentItem(),"");else if("chromeful-video"===d.type||"chromeless-video"===d.type){var c=l.getVideoHash(d.color,d.index,b);
if("mouseenter"===a.type&&(f.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+I),"chromeless-video"===d.type)){var e=f.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,c.mediaObjectId,c.groupType,R,H,S,T);f.emitNexusMetric(e)}x(d,"");b.usePeekHover&&"click"!==a.type||!g.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(l.selectGivenThumbnail(a.$declarativeParent,A),"click"===a.type&&(c=f.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,c.mediaObjectId,
c.groupType,R,H,S,T),(!l.useTabbedImmersiveView(b)&&"chromeless-video"===d.type||"tablet"==W)&&f.emitNexusMetric(c),l.useTabbedImmersiveView(b)&&(f.emitNexusMetric(c),f.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+I),w.action="videoIngressClick",w.clickTimeStamp=a.$event.timeStamp,w.$event=a.$event,w.$currentTarget=a.$currentTarget,G.dispatch("videoIngressClick",w),f.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};if(b.isDPXFeatureEnabled)g.on("triggerVideoAjax",
q);g.on("vsePlayer-imageblock_tablet",P)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(g,a,e,l,m,f,p,k){function q(a){return a.hiRes||a.large||a.main[a.main.length-1]}function n(){v.find("#ivTitle").click(function(){aa.hide()})}function U(){O=Pa?{type:"360-spin"}:Z.getCurrentItem()}function F(){var a=v.find("#ivStage"),d=aa.$container.find(".a-popover-wrapper"),
c=d.find(".a-popover-inner"),d=d.height()-k.getDimension(c,"padding-top")-k.getDimension(c,"padding-bottom");v.css("height",d);var c=v.find("#ivTitle").outerHeight(!0),b=v.find("#ivVariationSelection").outerHeight(!0),e=v.find("#ivMediaSelection").outerHeight(!0),f=v.find("#ivThumbs"),h=k.getDimension(f,"margin-top")+k.getDimension(f,"margin-bottom");f.css("height",d-c-b-e-h);v.find("#ivLargeImage").css("height",d);a.css("width",v.width()-k.getDimension(v,"padding-left")-k.getDimension(v,"padding-right")-
v.find("#ivThumbColumn").width()-k.getDimension(a,"margin-left")-k.getDimension(a,"margin-right"))}function E(){v.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===O.type&&v.find("#ivVideo_"+O.index).click()):"images"===d?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),"chromeful-video"===O.type&&(0===ea&&0===ba?v.find("#iv360").click():
0===ea?v.find("#ivHeroImage_0").click():v.find("#ivImage_0").click())):"videos"===d&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==O.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+O.index).click())})}function x(){var a=v.find("#ivStage").find("#ivLargeImage"),d=a.width(),c=a.height(),b=a.find(".fullscreen");b.removeAttr("style");var e=b.width(),f=b.height();0<b.length&&(b[0].naturalWidth&&(e=b[0].naturalWidth),b[0].naturalHeight&&(f=b[0].naturalHeight));
a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,h=Math.min(d/e,c/f),g=f*h,k=e*h;1>h?(Qa?a.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;e=Math.min(k,e);f=Math.min(g-20,f);b.css({"margin-top":(c-f)/2,"margin-left":(d-e)/2,height:f,width:e});a.css("visibility","visible");Aa=!1}function B(a){var d=v.find("#ivLargeImage");d.css("visibility","hidden");d.empty();k.animateStageIn(d);d.append(a);
x()}function L(){fa&&fa.pause();v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display","none");z()}function N(d){L();v.find("#ivLargeImage").css("display","block");var c;"hero-image"===d?e.isDefined(ja)&&(c=q(ja[O.index])):e.isDefined(la)&&(c=q(la[O.index]));if(e.isDefined(c)){v.find(".fullscreen").remove();var b=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),f=v.find("#ivLargeImage");k.animateStageOut(f,function(){b.load(function(){B(b)});
if(b[0].complete)B(b);else{f.empty();var d=(f.height()-104)/2,c=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",C.staticImages.spinner).css({position:"relative",top:d+"px",left:c+"px"}).appendTo(f)}})}}function M(){var a=parseInt(O.index,10)+1;a>=ia.length||v.find("#ivVideo_"+a).click()}function P(){var a;e.isDefined(ia)&&(a=ia[O.index]);if(e.isDefined(a)){L();var d=v.find("#ivLargeVideo").css("display","block");fa?(fa.isDetached()&&fa.attach(d[0]),e.loadMediaIntoAiry(fa,a,wa,C.tabletWeb),fa.show()):
(fa=e.createAiryInstanceForChromeful(d,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&fa.bind("ended",M));fa.play({isAsync:!0})}}function K(){U();var a;a="hero-image"===O.type?v.find("#ivHeroImage_"+O.index):"image"===O.type?v.find("#ivImage_"+O.index):"chromeful-video"===O.type||"chromeless-video"===O.type?v.find("#ivVideo_"+O.index):"360-spin"===O.type?v.find("#iv360"):e.isDefined(ja)?v.find("#ivHeroImage_"+O.index):v.find("#ivImage_"+O.index);e.isjQueryObjDefined(a)||(a=v.find("#ivImage_0"));h(a)}
function h(a){v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(O.type="chromeful-video",O.index=a.attr("id").split("_")[1],P()):a.hasClass("ivHeroImage")?(O.type="hero-image",O.index=a.attr("id").split("_")[1],N(O.type)):a.hasClass("iv360Image")?(O.type="360-spin",O.index=0,b()):(O.type="image",O.index=a.attr("id").split("_")[1],N(O.type))}function b(){L();v.find("#ivLarge360").css("display","block");J();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});
k.animateStageIn(a)},200);A();m.postCountMetric("dppc_click360");ta=Date.now()}function z(){0<ta&&(G("dppc_duration360",Date.now()-ta),ta=0)}function G(a,d){r.ue&&r.ue.count(a,d)}function A(){if(0<qa){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function t(d,c){if(qa<d.length){var b=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});b.hide();c.append(b);b.get(0).onload=function(){c.closest(document.documentElement).length&&(qa++,1===
qa&&(A(),0<ta&&G("dppc_loadTime360",Date.now()-ta)),0<Ga&&G("dppc_perSpriteloadTime360",Date.now()-Ga),v.find("#iv360Spinner").hide(),b.show(),xa=5*V.imageLocations[Math.floor(ya/V.imageLocations[0].length)][ya%V.imageLocations[0].length],t(d,c))};b.attr("src",d[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function y(a){if(e.isDefined(V.spriteWidthSizes)&&0<V.spriteWidthSizes.length){var d=V.spriteWidthSizes,c=d.length,b=d[0],f=d[c-1];if(a<=b)return b;if(a>f)return f;for(b=0;b<
c;b++)if(a>d[b]&&a<=d[b+1])return d[b+1]}else return a}function J(){var d=v.find("#ivLarge360");d.children("#image-360-sprites").length||(d.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),d.css({"margin-left":0,"margin-top":0,width:d.parent().width(),height:d.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",C.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",
top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(d),Ha=!0,Q())}function Q(){if(e.isDefined(V.spriteURLs)&&e.isDefined(v)&&Ha&&!Ia){var b=v.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(V.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",V.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(C.staticStrings.dragToSpin).appendTo(f);
f.appendTo(b);var f=V.imageWidth,h=V.imageHeight,g=b.parent().width(),k=b.parent().height(),l=0,p=0;f/h>g/k?(ua=y(g),va=Math.round(h/f*ua),na=Math.ceil(g),sa=Math.ceil(va/ua*g),p=(k-sa)/2):(va=y(k),ua=Math.round(f/h*va),sa=Math.ceil(k),na=Math.ceil(ua/va*k),l=(g-na)/2);b.css({"margin-left":l,"margin-top":p,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*na+"px");t(V.spriteURLs,v.find("#image-360-sprites"),0);f=v.find("#ivLarge360");
f.bind("mousedown",I);f.bind("touchstart",d);f.bind("touchmove",c);f.bind("touchend",w);a(document).bind("mousemove",D);a(document).bind("mouseup",H);e.isDefined(C.staticImages.grab)&&b.css("cursor","url('"+C.staticImages.grab+"'), auto");Ia=!0}}function d(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function c(a){Ba&&(R(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function w(a){Ba&&(Ba=!1)}function I(a){Ca=!0;Ka=a.originalEvent.clientX;e.isDefined(C.staticImages.grabbing)&&
(a=v.find("#ivLarge360"),a.css("cursor","url('"+C.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+C.staticImages.grabbing+"'), auto"));return!1}function D(a){Ca&&(R(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function H(a){Ca&&(Ca=!1,e.isDefined(C.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+C.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function R(a){for(a=xa-=a/na*180;0>a;)a+=
360;for(;360<a;)a-=360;xa=a;var d;a=360;for(var c=0;c<qa;c++)for(var b=0;b<V.imageLocations[c].length;b++){var f=Math.abs(xa-5*V.imageLocations[c][b]);f<a&&(a=f,d=c*V.imageLocations[0].length+b)}d!==ya&&(a=Math.floor(d/V.imageLocations[0].length),a!==Math.floor(ya/V.imageLocations[0].length)&&(e.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),c=v.find("#image-360-sprites").children(),La.drawImage(c[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),
a.animate({opacity:0},750)));ya=d;a=d%V.imageLocations[0].length*-1*na;d=-1*Math.floor(d/V.imageLocations[0].length)*sa;c=v.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");c.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function S(){v.delegate(".ivThumb","click",function(){var d=a(this);h(d)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var d=a(this);d.addClass("selected");
O.type="chromeful-video";O.index=d.attr("id").split("_")[1];P()})}function T(){fa&&!fa.isDetached()&&(wa.volume=fa.getVolume(),fa.detach(),!document.all||r.atob||document.addEventListener||(fa=null));v.find("#ivLargeImage").empty();z()}function W(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function ha(d){var c=ra.left-(d.pageX-Da[0])*Ea;g.capabilities.rtl&&(c=ra.left-(a(r).width()-d.pageX-Da[0])*Ea);d=ra.top-(d.pageY-Da[1])*Ea;c=W(c,Fa.left);d=W(d,Fa.top);v.find(".fullscreen").css({left:c,top:d})}
function ca(){v.delegate("#ivLargeImage","click",function(a){if(Aa)x();else if(za){v.find(".fullscreen").removeAttr("style");if(za){var d=v.find("#ivLargeImage"),c=d.find(".fullscreen");Qa?d.css("cursor","url('"+C.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));Aa=!0;var b=v.find("#ivLargeImage");Fa.left=b.width()-c.width();Fa.top=b.height()-c.height();var b=d.height()/2,e=d.width()/2;Da=[d.offset().left+e,d.offset().top+
b];ra.top=b-c.height()/2;ra.left=e-c.width()/2;c.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(c.height()/d.height(),c.width()/d.width())}ha(a)}});v.delegate("#ivLargeImage","mousemove",function(a){Aa&&ha(a)})}function Y(d){if(e.isImmersiveViewEnabled(C,Z.getCurrentItem().color))if(Ma){var c=d.$event.originalEvent;c.acknowledge&&c.acknowledge(d.$currentTarget[0]);Pa=e.isDefined(d)&&"button-360-click"===d.action;f.isEnabled&&p.logImmersiveViewRequestServed(f);m.postCountMetric("dppc_immersiveViewOpened");
if(e.isDefined(aa))aa.show();else{d=a("#auiImmersiveViewDiv");var c=a(r).height()-150,b=a(r).width()-75;aa=Ma.create(d,{name:"immersiveView",activate:"onclick",width:b,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Na){v=a("#ivMain");d=Z.getCurrentItem().color;la=C.colorImages[d];ja=C.heroImage[d];ia=C.useChildVideos?C.colorToVideo[d]:C.videos;Oa=X()&&C.spin360ColorEnabled[d];V=X()?C.spin360ColorData[d]:ga;U();ma=ba=pa=ea=0;e.isDefined(ja)&&(ba=ja.length);e.isDefined(la)&&(ea=
la.length);e.isDefined(ia)&&(pa=ia.length);Oa&&(ma=1);k.populateTitle(v.find("#ivTitle"),45,C);k.populateVariationSelection(v.find("#ivVariationSelection"));d=v.find("#ivMediaSelect");0===ea+ma||0===pa?(d.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(C.staticStrings.allMedia+" ("+(ba+ea+ma+pa)+")").appendTo(d),a("\x3coption/\x3e").attr("value","images").text(C.staticStrings.images+" ("+(ba+ea+ma)+")").appendTo(d),
a("\x3coption/\x3e").attr("value","videos").text(C.staticStrings.videos+" ("+pa+")").appendTo(d),d.parent().show(),d.val("all"));d=v.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var c=ba+ea+pa+ma,h=b=0;b<c;)for(var l=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),w=0;3>w&&b<c;w++,b++,h++)if(h<ba){var n=ja[b].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+b).appendTo(l);q.find(".ivThumbImage").css("background",
'url("'+k.getResizedThumbnailURL(n)+'") center no-repeat')}else if(h>=ba&&h<ea+ba)n=la[b-ba].thumb,q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(b-ba)).appendTo(l),q.find(".ivThumbImage").css("background",'url("'+k.getResizedThumbnailURL(n)+'") center no-repeat');else if(h>=ba+ea&&h<ea+ba+ma)q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(l),q.find(".ivThumbImage").css("background",'url("'+
(e.isDefined(C.staticImages.icon360)?k.getResizedThumbnailURL(C.staticImages.icon360,!0):"")+'") center no-repeat');else if(n=ia[b-ea-ba-ma],q=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(b-ea-ba-ma)).appendTo(l),q.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),e.isDefined(n)){var z={position:"triggerTop"},A=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");
A.find(".ivVideoPopoverTitle").text(n.title);A.find(".ivVideoPopoverDuration").text(n.durationTimestamp);z.inlineContent=A[0];g.declarative.create(q,"a-tooltip",z)}d=v.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=d.find(".placeholder");for(b=0;b<pa;b++)h=ia[b],l=c.clone().removeClass("placeholder").appendTo(d),l.attr("id","ivVideoList_"+b),l.find(".ivThumbImage").css("background",'url("'+h.thumbUrl+'") center no-repeat'),l.find(".ivThumbTitle").text(h.title),
l.find(".ivThumbDuration").text(h.durationTimestamp);v.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=C.airyConfig;Na=!1;Ra()}}else r.performance&&performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function oa(a){var d=C.colorToAsin[a],c={},b=500;if(d&&d.asin){c.params={asin:d.asin};var f="360"+d.asin,h=Date.now();c.success=function(d){G("dppc_asyncRequestTime360",
Date.now()-h);d&&e.isDefined(d.spin360.spin360Model)?(e.ajaxState(f,"success"),C.spin360ColorData[a]=d.spin360.spin360Model,a===Z.getCurrentItem().color&&(V=C.spin360ColorData[a],Q())):c.error()};c.error=function(){m.postCountMetric("dppc_asyncFailed360");G("dppc_asyncRequestTime360",Date.now()-h);b*=2;16E3>=b?setTimeout(function(){h=Date.now();l.load("/gp/product/features/apparel-main-image/360.html",c)},b):e.ajaxState(f,"fail")};e.ajaxState(f)&&"fail"!==e.ajaxState(f)||(l.load("/gp/product/features/apparel-main-image/360.html",
c),e.ajaxState(f,"sent"))}}function X(){return e.isDefined(C.spin360ConfigEnabled)&&C.spin360ConfigEnabled}var da,C,Z,ka,aa,v,ja,la,ia,ba,ea,pa,ma,O,fa,wa,V,Oa,na,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;u.when("a-modal").execute(function(a){Ma=a});var Ra=g.once(function(){E();S();ca();g.on("a:popover:afterUpdatePosition:immersiveView",F);g.on("a:popover:afterShow:immersiveView",K);
g.on("a:popover:afterHide:immersiveView",T);n()});return function(d,c,b,h){da=this;C=d;Z=c;f.refToModel=Z;ka=h;X()&&(C.spin360ColorData[C.landingAsinColor]=C.spin360ColorData[C.defaultColor],C.spin360ColorEnabled[C.landingAsinColor]=C.spin360ColorEnabled[C.defaultColor]);e.isDefined(C.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",k.addStyleCodeToURL(C.staticImages.icon360,"_FMpng_RI_"));da.render=function(a,d,c,b,f,h){Na=!0;X()&&C.spin360ColorEnabled[a]&&
!e.isDefined(C.spin360ColorData[a])&&(C.spin360ColorData[a]={},oa(a));e.isImmersiveViewEnabled(C,Z.getCurrentItem().color)&&X()&&C.spin360ColorEnabled[a]&&(d===C.maxAlts&&(a=b.find(".item.imageThumbnail"),c=b.find(".item.videoThumbnail"),e.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),d--),a=b.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(a,"button-360-click"),b.append(a),d++,m.postCountMetric("dppc_display360"));
return d};da.update=function(a){};e.isImmersiveViewEnabled(C,Z.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");ka.register("imageClick",Y);ka.register("button360Click",Y)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(g,a,e,l,m,f,p){function k(){var e=E.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),b=e.find(".a-popover-inner"),
e=e.height()-p.getDimension(b,"padding-top")-p.getDimension(b,"padding-bottom");a("#iv-tab-view-container").css("height",e);L=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<L?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),b=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),e-=b):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",e);
g.trigger("dp:image-block:immersive-view:resize")}function q(){g.trigger("dp:image-block:immersive-view:reset")}function n(h){if(e.isImmersiveViewEnabled(F,E.getCurrentItem().color))if(M){var b=h.$event.originalEvent;b.acknowledge&&b.acknowledge(h.$currentTarget[0]);m.isEnabled&&f.logImmersiveViewRequestServed(m);l.postCountMetric("dppc_immersiveViewOpened");e.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIngressClick"===h.action?(N=h.clickTimeStamp,a("#ivVideosTabHeading").click()):
"showroomIngressClick"===h.action?(N=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());b=E.getImmersiveViewModalInstance();if(e.isDefined(b))b.show();else{h=a("#auiImmersiveViewDiv");var b=Math.min(Math.max(a(r).height()-150,540),1080),k=Math.min(Math.max(a(r).width()-75,990),1980),b=M.create(h,{name:"immersiveView",activate:"onclick",width:k,height:b,popoverLabel:"ImmersiveView",hideHeader:!0});E.setImmersiveViewModalInstance(b);h.click()}B&&(B=!1,P(),g.trigger("dp:image-block:immersive-view:init"))}else r.performance&&
performance.now&&r.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else l.postCountMetric("immersiveViewNotExistsClickCount")}var U,F,E,x,B=!0,L=0,N,M;u.when("a-modal").execute(function(a){M=a});var P=g.once(function(){g.on("a:popover:afterUpdatePosition:immersiveView",k);g.on("a:popover:afterShow:immersiveView",k);g.on("a:popover:afterHide:immersiveView",q)}),K=g.once(function(){var e=a("#iv-tab-view-container ul.iv-tab-views li");e.bind("click",
function(b){var f=e.filter(".iv-active");f.attr("id")!==a(this).attr("id")&&g.trigger("dp:ivTabs:"+f.find("a").attr("data-iv-tab-view")+":deselect",b);e.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();f=a(this).find("a").attr("data-iv-tab-view");a("#"+f).show();"ivVideosTab"===f&&(b.clickTimeStamp=N||b.timeStamp);g.trigger("dp:ivTabs:"+f+":select",b);l.postCountMetric("dppc_"+f);return!1})});return function(a,b,f,g){U=this;F=a;E=b;m.refToModel=
E;x=g;U.render=function(a,b,e,f,h,d){l.postCountMetric("dpcc_altThumbs_"+b);B=!0};U.update=function(a){};U.getTitle=function(){};U.getVariationSelectionInfo=function(){};K();e.isImmersiveViewEnabled(F,E.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");x.register("imageClick",n);x.register("button360Click",n);e.useTabbedImmersiveView(F)&&(x.register("videoIngressClick",n),x.register("showroomIngressClick",n))}});"use strict";u.when("A").register("ImageBlockLoader",function(g){return{load:function(a,
e){e=e||{};e.timeout=e.timeout||4E3;g.ajax(a,e)}}});"use strict";u.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(g,a,e,l,m,f,p,k,q){function n(a){return null!==a&&"undefined"!==typeof a}function u(d){var c=0;a.each(d,function(a,d){var b=parseInt(d[1],10);b>c&&(c=b)});return c}function F(d){var c=0;a.each(d,function(a,d){var b=parseInt(d[0],10);b>c&&(c=b)});return c}
function E(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=u(a);0<a&&(c=Math.min(c,a));return c}function x(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=F(a);0<a&&(c=Math.min(c,a));return c}function B(d){var c;a.each(d,function(a,d){n(c)||(c=d[1]/d[0])});return c||1}function L(d,c,b,f,h,g,k,p,m,n,q,z,K,G){var x=a.extend({},b.foresterMetadataParams);null!==f&&(x.method+="."+f);var r=[];c.disabledViewIds&&(r=c.disabledViewIds);var F="black";"unrolled-video-add"===G&&(F="transparent");
return e.embed({parentElement:d[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:b.swfUrl,foresterMetadataParams:x,backgroundColor:F,flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:b.videoAds,bindings:{play:function(){if("ImmersiveView"===f)A||(A=!0,l.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(t||(t=!0,l.postCountMetric("dppc_chromefulVideoPlayedPV")),!n){var a=
l.buildNexusMetric("ib.thumbnailClick",m,c.mediaObjectId,c.groupType,q,z,K);l.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,d,c){h&&(N(0,g,p),M(k))}}],disabledViewIds:r})}function N(a,c,b){c.fadeTo(500,0,function(){P(a,b);c.fadeTo(500,1)})}function M(a){a&&a.toggle()}function P(d,c){var b=c.find("img");n(b[d])&&a(b[d]).click()}function K(a,c){Q[a]=c?c:Q[a];return Q[a]}function h(d,c,b){b=b||J;b=b.colorImages;if(1>b.length||!n(b[d])||!n(c))return-1;
var e=-1;a.each(b[d],function(a,d){d.variant===c&&(e=a)});return e}function b(d,c,b){b=b||J;b=b.colorImages;return!(n(b)&&n(b[d])&&n(b[d][c])&&n(b[d][c].main))||1>a.map(b[d][c].main,function(a,d){return d}).length?-1:b[d][c]}function z(a,c,b,e){e.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,a>c?e.css("width",c/a*100+"%"):e.css("height",a/c*100+"%"))}function G(d,c){var b;if(b=d.useIV)b=d.colorImages&&d.colorImages[c]&&0<d.colorImages[c].length?!0:!1;p.isEnabled&&(p.IVApplicaple=b,k.logImmersiveViewApplicability(a,
p));return b}var A,t,y,J=a.extend(!0,{},m,f),Q={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:B,getMaxHeightOfMainImage:x,getMaxWidthOfMainImage:E,getMaxDimensionsOfMainImage:function(a,
c,b){if(b.acEnabled)return[c.height(),c.width()];var e=x(a,c,b);c=E(a,c,b);a=B(a);b=c/a;c=Math.min(c,e*a);e=Math.min(e,b);return[e,c]},getContainerHeight:function(a,c,b){var e=a.get(0);a=0;if(n(e)){a=e.offsetWidth/c;a=Math.min(a,b);var f;c=J.mainImageHeightPartitions;b=J.mainImageMaxSizes;if(n(b)&&n(c)){for(var h=0,g=r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<c.length;e++)g>c[e]&&(h=e+1);b.length>=h&&(f=b[h])}n(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(d,
c){if(d){c=c||J;var b="";a.each(c.visualDimensions,function(a,c){d[c]&&(b+=" "+d[c])});return b&&b.substring(1)}},createThumbnail:function(a,c,b,e){var f=b.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=c;f.find(".placeHolder").replaceWith(h);(c=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===c&&f.addClass("heroImageThumbnail");n(e)&&f.addClass(e);g.declarative.create(f,"thumb-action",a);f.attr&&(f.attr("data-ux-click",""),a.type&&
a.type.match(/video/)?(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(f.attr("data-csa-c-type","uxElement"),f.attr("data-csa-c-element-type","navigational"),f.attr("data-csa-c-action","image-block-alt-image-hover")),f.attr("data-csa-c-posy",a.thumbnailIndex+1));b.append(f)},selectGivenThumbnail:function(a,c){var b=a.find(".a-button");c.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,c,b,e,f,h,g,k){L(a,c,b,e,f,h,g,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:L,loadMediaIntoAiry:function(a,c,b,e){a&&a.getMediaSourceInfo()!==c.url&&(e?a.loadMedia?(y={mediaSourceInfo:[c.url],contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(y)):a.play({videoUrl:c.url,mimeType:"video/mp4",contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}):a.play({videoUrl:c.url,mimeType:"video/mp4",contentId:c.mediaObjectId}))},showUnavailable:function(d){d&&(a("#imageBlock .unvailableVariation").html(d),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:N,toggleVideoCaption:M,
selectThumbnail:P,spinner:function(d,c){var b=a("#imageBlock .a-spinner").parent();0===b.length&&(b=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),d.append(b),b.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?b.show():b.hide();return b},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:K,getIndexForVariant:h,getImageHash:b,lazyLoadingRequired:function(a,c,e){c=Math.max(h(a.color,c.getCurrentItem().variant,e),0);c=-1!==b(a.color,c,e);a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a=!a||"success"!==K(a);return!e.lazyLoadExperienceDisabled&&!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:z,repositionVideoBanner:function(a,
c,b,e){setTimeout(function(){var b=a.width()/a.height();z(b,16,9,c)},e||0)},getVideosCount:function(a,c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:0},getVideoHash:function(a,c,b){if(b.useChildVideos){if(!n(b.colorToVideo))return-1;a=b.colorToVideo[a]}else a=b.videos;return n(a)&&n(a[c])&&n(a[c].url)?a[c]:-1},isImmersiveViewEnabled:G,playVideoInImmersiveView:function(a,b){return G(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return n(y)?y.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,e){return{requester:"DetailPageTablet",marketplaceID:e.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:e.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:e.url,imageURL:e.slateUrl}}},addTag:function(a){r.ue&&r.ue.tag&&r.ue.tag(a)},isShoppableScenesEnabled:function(){return q.isEnabled&&0<a(".mirai-scene-image-block-template").length}}});"use strict";u.when("A",
"jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(g,a,e,l){function m(f,h,b,g){if(!e.isjQueryObjDefined(f.find(".a-button-selected"))){var k=B.getCurrentItem();if(!g||"chromeless-video"!==k.type||!x.autoplayVideo){g=0;if("hero-image"===k.type){g=p(k.color,k.variant);if(-1===g)return;g=-1!==g?g:0}var m=h+g;m>=b&&(g=0,m=h);h=l.getHeroImageHash(x,k.color,g);-1!==h&&(L.dispatch("updateModel",{data:{index:g,thumbnailIndex:m,variant:h.variant,type:"hero-image"}}),
h=f.find(".item").get(m),e.selectGivenThumbnail(a(h),f))}}}function f(f,h,b){if("hero-video"===B.getCurrentItem().type)return f;h=x.heroImage&&x.heroImage[h];var g=f;e.isDefined(h)&&(a.each(h,function(a,b){f<x.maxAlts&&(e.createThumbnail({type:"hero-image",index:a,thumbnailIndex:f,variant:b.variant},b.thumb,N,"imageThumbnail"),f++)}),m(N,g,f,b));return f}function p(f,g){var b=x.heroImage;if(1>b.length||!e.isDefined(b[f])||!e.isDefined(g))return-1;var k=-1;a.each(b[f],function(a,b){b.variant===g&&
(k=a)});return k}function k(){if(M.length&&x.repositionHeroImage){var a=l.getHeroDimParams(x,B.getCurrentItem()),f;e.isDefined(a)&&(f=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",M.css({"background-position":f,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function q(a,f,b,g){if(M.length&&a&&f){if("function"===typeof b||g){var k=new Image;k.onload=g?function(){M.css("background-image",'url("'+
a+'")')}:b;k.src=a}b=f[1];var k=f[0],p;g||M.css({"background-image":'url("'+a+'")'});x.repositionHeroImage&&(f=l.getHeroDimParams(x,B.getCurrentItem(),f),e.isDefined(f)&&(b=f.width,k=f.height,p=e.isDefined(f.xPos)?f.xPos+"px "+f.yPos+"px ":"center "+f.yPos+"px "));M.css({"background-position":p,"background-size":b+"px "+k+"px ","max-width":b+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function n(f,e,b,g){f=l.getHeroImageHash(x,f,e);if(-1===f)return-1;e=a.map(f.main,function(a,b){return b})[0];
q(e,f.main[e],b,g)}function r(a,f,b){if("hero-image"!==a.type)return-1;var e=p(a.color,B.getCurrentItem().variant),e=-1!==e?e:0;if(-1===l.getHeroImageHash(x,a.color,e))return-1;var g=B.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=e;F(a,f,b)}function F(a,f,b){var e=l.getHeroImageHash(x,a.color,a.index),k;k=a&&P&&g.equals(a,P)?!0:!1;P||(P=a);if(!k&&a||f)n(a.color,a.index,f,b),P=a;M.removeClass("hide-background");g.trigger("dp:image-block:update",e)}var u,
x,B,L,N,M,P={};return function(g,h,b,l){u=this;x=g;B=h;L=l;x.heroImage[x.landingAsinColor]=x.heroImage[x.defaultColor];u.render=function(b,e,g,h,k,l,d){N=h;M=a("#heroImage");b=f(e,b,l);r(B.getCurrentItem(),d,l);return b};u.update=function(a){var b=a.data;"ingress"!==b.type&&M.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=B.getCurrentItem().type,-1!==r(b)&&(a.captured=!0)):"hero-image"===b.type&&(F(b),"click"!==a.type&&x.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,
N))};L.register("resize",k)}});"use strict";u.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(g,a,e){var l,m,f,p;return function(a,q,n,r){l=this;m=a;f=r;l.render=function(a,f,k,n,q,r,u){p=n;l=this;k=m.maxAlts;n=f;q=m.colorImages[a]?m.colorImages[a].length:0;q+=e.getVideosCount(a,m);a=m.heroImage[a];r=0;a&&(r=a.length);a=q+r;a>k&&(k=a-k,a=p.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),k+="+",
n={type:"ingress",index:0,thumbnailIndex:f,variant:""},a.find("#altIngressText").append(k),g.declarative.create(a,"thumb-action",n),p.append(a),n=f++);return n};l.update=function(a){"ingress"===a.data.type&&"click"===a.type&&f.dispatch("imageClick",a)}}});"use strict";u.when("imageBlockUtils").register("ImageBlockState",function(g){return function(a,e,l){this.getImageHash=function(e){var f=l.getCurrentItem();e=g.getIndexForVariant(f.color,e||"MAIN",a);return g.getImageHash(f.color,e,a)};this.onImageUpdateForTwister=
function(a){e.register("updateSelection",function(f){"swatchClick"===f.type&&"function"===typeof a&&a()})}}});"use strict";u.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(g,a){function e(a,e){var g;if(e.repositionHeroImage){g=a[1];var l=a[0];if(768>=(r.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))g*=.7,l*=.7;else{var n=((r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,n=Math.max(Math.min(n,1),0);
g*=.7+.3*n;l*=.7+.3*n}g=[g,l]}return g}function l(f,e,g){var l;if(g.repositionHeroImage){var n=r.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;g=g.heroFocalPoint;if(a.isDefined(g)){l=Math.max((n-Math.min(1500,f))/2,0);var m=Math.max((n-f)/2,0);l-=m;n=Math.max(Math.min(n,1500),1024);l=l+(n-420-23)/2-f/e[1]*g}}return l}function m(e,l,k){e=e.heroImage;return!(a.isDefined(e)&&a.isDefined(e[l])&&a.isDefined(e[l][k])&&a.isDefined(e[l][k].main))||1>g.map(e[l][k].main,function(a,
e){return e}).length?-1:e[l][k]}return{getHeroImageHash:m,getHeroDimParams:function(f,p,k){if(f.repositionHeroImage){if(!a.isDefined(k)){k=m(f,p.color,p.index);if(-1===k)return;p=g.map(k.main,function(a,e){return e})[0];k=k.main[p]}p=e(k,f);f=l(p[0],k,f);return{height:p[1],width:p[0],xPos:f,yPos:75}}}}});"use strict";u.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(g){function a(){this.render=function(){};this.update=function(){}}return function(e,l,m,f){var p=!1,k=new a;u.now("showroom-image-block-view").execute("showroom-image-block-view-decider",
function(a){a!==ga&&(p=!0,k=new a(e,l,m,f))});e&&!0===e.showroomEnabled&&!1===p&&g.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return k}});"use strict";u.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(g,a,e){function l(a,l){var k=g.copy(a);if(e.isDefined(a)&&a.length>l){try{for(var m=-1,n=0;n<a.length;n++){var r=a.charAt(n);if(" "===r||"."===r||"?"===r||";"===r||","===r||":"===r)m=n;if(n===l-4){k=a.substring(0,-1===m?n:m);break}}}catch(u){k=
a.substring(0,l-3)}k+="..."}return k}function m(a,e){var g=a.lastIndexOf(".");return a="_"===a.charAt(g-1)?a.substring(0,g-1)+e+a.substring(g):a.substring(0,g)+"."+e+a.substring(g)}return{getDimension:function(a,e){var g=parseInt(a.css(e),10);return isNaN(g)?0:g},attachTabSelectHandler:function(a,e){g.on("dp:ivTabs:"+a+":select",e)},attachTabDeselectHandler:function(a,e){g.on("dp:ivTabs:"+a+":deselect",e)},attachImmersiveViewResizeHandler:function(a){g.on("dp:image-block:immersive-view:resize",a)},
detachImmersiveViewResizeHandler:function(a){g.off("dp:image-block:immersive-view:resize",a)},attachImmersiveViewResetHandler:function(a){g.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(e){a("#"+e).hide()},unhideTabHeading:function(e){a("#"+e).show()},addStyleCodeToURL:m,getResizedThumbnailURL:function(a,e){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,
"");var g="_AA50_";e&&(g+="FMpng_RI_");return m(a,g)},populateVariationSelection:function(f){if(e.isDefined(r.DetailPage)&&e.isDefined(r.DetailPage.StateController)){f.empty();var g=r.DetailPage.StateController.getState(),k=g.variation_label_order,l;for(l in k)if(k.hasOwnProperty(l)){var m=k[l],u=g.selected_variations[m],m=g.variation_display_labels[m];u&&a("\x3cdiv/\x3e").addClass("ivVariations").text(m+":"+u).appendTo(f)}}},populateTitle:function(a,e,g){a.html(g.title);a.attr("title",a.text());
a.html(l(g.title,e))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,e){a.animate({opacity:.4},100,e)},logError:function(a,e,g,l){r.ueLogError&&r.ueLogError(l,{logLevel:a,attribution:e,message:g})}}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(g,a,e,l,m){function f(){m.populateTitle(b.find("#ivTitle"),160,K)}function p(){var a=h.getCurrentItem().color;G=K.colorImages[a];
z=K.heroImage[a];A=t=0;e.isDefined(z)&&(A=z.length);e.isDefined(G)&&(t=G.length)}function k(a){return a.hiRes||a.large||a.main[a.main.length-1]}function q(){var a=b.find("#ivStage").find("#ivLargeImage"),e=a.width(),f=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var h=g.width(),k=g.height();0<g.length&&(g[0].naturalWidth&&(h=g[0].naturalWidth),g[0].naturalHeight&&(k=g[0].naturalHeight));a.css("cursor","auto");var h=0===h?1:h,k=0===k?1:k,l=Math.min(e/h,f/k),m=k*l,p=h*l;1>l?(J?a.css("cursor",
"url('"+K.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),c=!0):c=!1;h=Math.min(p,h);k=Math.min(m-20,k);g.css({"margin-top":(f-k)/2,"margin-left":(e-h)/2,height:k,width:h});a.css("visibility","visible");d=!1}function n(a){var c=b.find("#ivLargeImage");c.css("visibility","hidden");c.empty();m.animateStageIn(c);c.append(a);q()}function r(c){b.find("#ivLargeImage").css("display","none");b.find("#ivLargeImage").css("display",
"block");var d;"hero-image"===c?e.isDefined(z)&&(d=k(z[y.index])):e.isDefined(G)&&(d=k(G[y.index]));if(e.isDefined(d)){b.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),g=b.find("#ivLargeImage");m.animateStageOut(g,function(){f.load(function(){n(f)});if(f[0].complete)n(f);else{g.empty();var b=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",K.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(g)}})}}function u(a){b.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];r(y.type);l.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(A+t))}function E(){b.delegate(".ivThumb","click",function(){var b=a(this);u(b)})}function x(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function B(a){var c=I.top-(a.pageY-H[1])*D;a=x(I.left-(a.pageX-H[0])*D,w.left);c=x(c,w.top);b.find(".fullscreen").css({left:a,top:c})}function L(){b.delegate("#ivLargeImage",
"click",function(a){if(d)q();else if(c){b.find(".fullscreen").removeAttr("style");if(c){var e=b.find("#ivLargeImage"),f=e.find(".fullscreen");J?e.css("cursor","url('"+K.staticImages.zoomOut+"'), auto"):(e.css("cursor","-webkit-zoom-out"),e.css("cursor","-moz-zoom-out"),e.css("cursor","zoom-out"));d=!0;var g=b.find("#ivLargeImage");w.left=g.width()-f.width();w.top=g.height()-f.height();var g=e.height()/2,h=e.width()/2;H=[e.offset().left+h,e.offset().top+g];I.top=g-f.height()/2;I.left=h-f.width()/2;
f.css({position:"relative",left:I.left,top:I.top});D=Math.max(f.height()/e.height(),f.width()/e.width())}B(a);l.postCountMetric("dpcc_iv_largeImageCLick")}});b.delegate("#ivLargeImage","mousemove",function(a){d&&B(a)})}function N(){b.find("#ivLargeImage").empty()}function M(c){if(Q){b=a("#ivMain");p();y=h.getCurrentItem();f();m.populateVariationSelection(b.find("#ivVariationSelection"));c=b.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var d=A+t,g=0,k=0;g<d;)for(var l=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),
n=0;4>n&&g<d;n++,g++,k++)if(k<A){var q=z[g].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(l);r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat')}else k>=A&&k<t+A&&(q=G[g-A].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+
(g-A),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":g-A+1}).appendTo(l),r.find(".ivThumbImage").css("background",'url("'+m.getResizedThumbnailURL(q)+'") center no-repeat'));R();Q=!1}else f();c=a("#ivImagesTab").height();b.css("height",c);d=b.find("#ivTitle").outerHeight(!0);g=b.find("#ivVariationSelection").outerHeight(!0);k=b.find("#ivThumbs");l=m.getDimension(k,"margin-top")+m.getDimension(k,"margin-bottom");
k.css("height",c-d-g-l);b.find("#ivLargeImage").css("height",c);c=b.find("#ivStage");d=b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||b.width();c.css("width",d-m.getDimension(b,"padding-left")-m.getDimension(b,"padding-right")-b.find("#ivThumbColumn").width()-m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));y=h.getCurrentItem();c="hero-image"===y.type?b.find("#ivHeroImage_"+y.index):"image"===y.type?b.find("#ivImage_"+y.index):e.isDefined(z)?b.find("#ivHeroImage_"+
y.index):b.find("#ivImage_"+y.index);e.isjQueryObjDefined(c)||(c=b.find("#ivImage_0"));u(c)}var P,K,h,b,z,G,A,t,y,J=navigator.userAgent.match(/msie|trident/i),Q=!0,d=!1,c=!1,w={},I={},D,H,Q=!0,R=g.once(function(){E();L();m.attachImmersiveViewResizeHandler(M);m.attachTabDeselectHandler("ivImagesTab",N)});return function(b,c,d,e){P=this;K=b;h=c;P.render=function(b,c,d,e,f,g){Q=!0;p();0===A+t?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===A+t?a("#ivThumbs").hide():
a("#ivThumbs").show()};P.update=function(a){};m.attachTabSelectHandler("ivImagesTab",M)}});"use strict";u.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(g,a,e,l,m,f,p){function k(){A.delegate(".ivThumb","click",function(){var b=a(this);A.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(t.type="chromeful-video",t.index=b.attr("id").split("_")[1])})}
function q(){if(W){var b=a("#ivVideosTab").height();A.css("height",b);var c=A.find(".vse-lb-container");y=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(H){A.css({"max-width":Math.floor(1.77*y)});return}var b=A.find(".vse-player-container"),c=A.find(".vse-video-action-strip"),d=A.find(".vse-lb-video-metadata"),e=Math.floor(y-m.getDimension(d,"height")-m.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,
marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}R&&(b=A.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",y-c))}function n(){u();J&&J.pause();S=!1;I=!0;w=null;T=!0;W=!1}function u(){S=!1;J&&J.pause()}function F(c){w=c.clickTimeStamp?c.clickTimeStamp:g.now();e.isDefined(G)&&(G.eventTimestamp=w);S=!0;D&&(p.get(g,"#ivVideoBlock",
z,C,Z),A=a("#ivVideoBlock"),b.getCurrentItem(),t=b.getCurrentItem(),ga(),M());q();D=!1;B()}function E(c){D&&(A=a("#ivVideoBlock"),b.getCurrentItem(),t=b.getCurrentItem(),ga());S&&B();q()}function x(a){J=a.player;l.postTimeMetric("vse_ib_desktop_player_initialisation_duration",g.now()-Y);h.imageBlockRenderingStartTime&&l.postTimeMetric("vse_ib_desktop_time_to_player_interactive",g.now()-h.imageBlockRenderingStartTime);W&&(M(),B())}function B(){if(J&&S&&(A.find(".vse-lb-container").animate({opacity:1},
200),J.play(G),l.postCountMetric("dpcc_vse_videoBlock_video_played"),I)){var a=r.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,l.postTimeMetric("dpcc_vse_vitff",a),I=!1)}}function L(){g.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function N(a){Q=a.popover.$popover;W=!0;M()}function M(){if(W&&T&&S&&J){Q.addClass(g.$(Q).find(".vse-lb-container").data("cssClass"));var a=G;ha&&(a=ca,ha=!1);g.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",
assetSpec:a});q();T=!1}}function P(a){document.getElementsByClassName("videoBlockIngress")[0].click();ca=a;ha=!0}var K,h,b,z,G,A,t,y,J,Q,d,c,w,I=!0,D=!0,H=!1,R=!1,S=!1,T=!0,W=!1,ha=!1,ca,Y=0,ga=g.once(function(){k();m.attachImmersiveViewResizeHandler(E);m.attachTabDeselectHandler("ivVideosTab",u);m.attachImmersiveViewResetHandler(n)}),X=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");l.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=b.getCurrentItem().color;c=
e.getVideoHash(c,0,h);J||(J=e.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,h.airyConfig,"ImmersiveView"));H=!0;a("#ivVideoBlock").css({"max-width":1.77*y,margin:"0 auto"});S&&H&&J.play({isAsync:!0})},da=function(c,b,d){D||p.get(c,"#ivVideoBlock",z,C,Z);a("#ivVideoBlockSpinner").addClass("aok-hidden")},C=function(a,c,b){R=!0;q()},Z=function(a,c,b){l.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};return function(a,k,l,p){K=this;h=a;b=
k;K.render=function(a,k,l,p,n,q){a=b.getCurrentItem().color;k=e.getVideoHash(a,0,h);!0===q?d=h.mediaAsin:(d=h.colorToAsin[a]&&h.colorToAsin[a].asin,d=e.isDefined(d)?d:h.mediaAsin);c=null!==h.vseVideoDataSourceTreatment&&"T1"===h.vseVideoDataSourceTreatment?"ASIN":"physicalID";D=!0;-1===k?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),z={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:k.marketPlaceID,locale:k.languageCode,product:{contentID:d,
contentIDType:"ASIN"},video:{contentID:k.mediaObjectId,contentIDType:c,videoURL:k.url,imageURL:k.slateUrl},requestId:h.dpRequestId,metadata:{ProductTitle:h.title}},G={videoUrl:z.video.videoURL,contentId:z.video.contentID,duration:0,vendorCode:"",eventTimestamp:e.isDefined(w)?w:g.now(),imageUrl:z.video.imageURL,productAsin:z.product.contentID,index:0},e.isDefinedAndNotEmpty(J)&&(J.destroy(),J=null),Y=g.now(),f.get(g,"#ivVideoBlock",z,da,X))};K.update=function(a){};m.attachTabSelectHandler("ivVideosTab",
F);g.on("vsePlayer-detailpage-imageblock",x);g.on("a:popover:afterShow:immersiveView",N);g.on("a:popover:beforeHide:immersiveView",L);g.on("detailpage-imageblock-leave-pip",P)}});"use strict";u.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(g,a,e,l,m,f,p,k,q){function n(){var c=a("#iv360Tab").height();D.css("height",c);var b=D.find("#ivTitle360").outerHeight(!0),
d=D.find("#ivVariationSelection360").outerHeight(!0),e=D.find("#ivThumbs360"),f=p.getDimension(e,"margin-top")+p.getDimension(e,"margin-bottom");e.css("height",c-b-d-f);c=D.find("#ivStage360");b=D[0]&&D[0].getBoundingClientRect&&Math.floor(D[0].getBoundingClientRect().width)||D.width();c.css("width",b-p.getDimension(D,"padding-left")-p.getDimension(D,"padding-right")-D.find("#ivThumbColumn360").width()-p.getDimension(c,"margin-left")-p.getDimension(c,"margin-right"))}function r(){B();var a=D.find("#ivLarge360");
a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});p.animateStageIn(a)},200);u()}function u(){if(0<v){var a=D.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function E(b,d){if(v<b.length){var e=a("\x3cimg /\x3e").css({display:"block",width:6*R+"px",height:S+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(v++,1===v&&(u(),0<C&&(m.time("dppc_loadTime360",Date.now()-C,c.mediaAsin),f.postTimeMetric("dppc_loadTime360",
Date.now()-C))),0<Z&&(m.time("dppc_perSpriteloadTime360",Date.now()-Z,c.mediaAsin),f.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-Z)),D.find("#iv360Spinner").hide(),e.show(),X=5*H.imageLocations[Math.floor(da/H.imageLocations[0].length)][da%H.imageLocations[0].length],E(b,d))};e.attr("src",b[v].replace(/(\._SP)\d+(,)\d+/,"$1"+W+"$2"+T));Z=Date.now()}}function x(a){if(e.isDefined(H.spriteWidthSizes)&&0<H.spriteWidthSizes.length){var c=H.spriteWidthSizes,b=c.length,d=c[0],f=c[b-1];if(a<=d)return d;
if(a>f)return f;for(d=0;d<b;d++)if(a>c[d]&&a<=c[d+1])return c[d+1]}else return a}function B(){var b=D.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",c.staticImages.spinnerNoLabel).attr("id",
"iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Y=!0,L())}function L(){if(e.isDefined(H.spriteURLs)&&e.isDefined(D)&&Y&&!oa){var d=D.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(H.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",H.staticImages.hint360).appendTo(f);
a("\x3cdiv\x3e").css({"text-align":"center"}).text(c.staticStrings.dragToSpin).appendTo(f);f.appendTo(d);var f=H.imageWidth,g=H.imageHeight,k=d.parent().width(),l=d.parent().height(),m=0,p=0;f/g>k/l?(W=x(k),T=Math.round(g/f*W),R=Math.ceil(k),S=Math.ceil(T/W*k),p=(l-S)/2):(T=x(l),W=Math.round(f/g*T),S=Math.ceil(l),R=Math.ceil(W/T*l),m=(k-R)/2);d.css({"margin-left":m,"margin-top":p,width:R+"px",height:S+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*R+"px");
E(H.spriteURLs,D.find("#image-360-sprites"),0);f=D.find("#ivLarge360");f.bind("mousedown",K);f.bind("touchstart",N);f.bind("touchmove",M);f.bind("touchend",P);a(document).bind("mousemove",h);a(document).bind("mouseup",b);e.isDefined(c.staticImages.grab)&&d.css("cursor","url('"+c.staticImages.grab+"'), auto");oa=!0}}function N(a){aa=!0;ca=a.originalEvent.targetTouches[0].clientX}function M(a){aa&&(z(a.originalEvent.targetTouches[0].clientX-ca),ca=a.originalEvent.targetTouches[0].clientX)}function P(a){aa&&
(aa=!1)}function K(a){ka=!0;ha=a.originalEvent.clientX;e.isDefined(c.staticImages.grabbing)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+c.staticImages.grabbing+"'), auto"));return!1}function h(a){ka&&(z(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function b(a){ka&&(ka=!1,e.isDefined(c.staticImages.grab)&&(a=D.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"auto")))}function z(a){X-=a/R*180;la&&(m.count("dppc_360dragToSpin",c.mediaAsin),f.postCountMetric("dppc_360dragToSpin"));la=!1;for(a=X;0>a;)a+=360;for(;360<a;)a-=360;X=a;var b;a=360;for(var d=0;d<v;d++)for(var g=0;g<H.imageLocations[d].length;g++){var h=Math.abs(X-5*H.imageLocations[d][g]);h<a&&(a=h,b=d*H.imageLocations[0].length+g)}b!==da&&(a=Math.floor(b/H.imageLocations[0].length),a!==Math.floor(da/H.imageLocations[0].length)&&(e.isDefined(ja)||(ja=document.createElement("canvas").getContext("2d")),
d=D.find("#image-360-sprites").children(),ja.drawImage(d[a],0,0)),a=D.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));da=b;a=b%H.imageLocations[0].length*-1*R;b=-1*Math.floor(b/H.imageLocations[0].length)*S;d=D.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");d.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function G(){if(ba){D=a("#ivMain360");var b=w.getCurrentItem().color;
t()&&y(b);H=t()?c.spin360ColorData[b]:ga;p.populateTitle(D.find("#ivTitle360"),160,c);p.populateVariationSelection(D.find("#ivVariationSelection360"));D.find("#ivLarge360").empty();v=0;oa=Y=!1;da=X=0;ea();ba=!1}0!==a("#iv360Tab").height()&&(p.detachImmersiveViewResizeHandler(G),n(),r(),C=Date.now(),ia=la=!0,m.count("dppc_click360",c.mediaAsin),f.postCountMetric("dppc_click360"))}function A(a,b,d){a=c.colorToAsin[d];var g={},h=500;if(!a||!a.asin)if(d===c.defaultColor)a={asin:c.winningAsin};else return;
g.params={asin:a.asin};var p="360"+a.asin,n=Date.now();g.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-n,c.mediaAsin);f.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&e.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&k.setData(a),e.ajaxState(p,"success")):g.error()};g.error=function(){m.count("dppc_asyncFailedTransient360",c.mediaAsin);f.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-n,c.mediaAsin);f.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-n);h*=2;16E3>=h?setTimeout(function(){n=Date.now();l.load("/gp/product/features/apparel-main-image/360.html",g)},h):(m.count("dppc_asyncFailed360",c.mediaAsin),f.postCountMetric("dppc_asyncFailed360"),e.ajaxState(p,"fail"))};e.ajaxState(p)&&"fail"!==e.ajaxState(p)||(l.load("/gp/product/features/apparel-main-image/360.html",g),e.ajaxState(p,"sent"))}function t(){return c&&e.isDefined(c.spin360ConfigEnabled)&&c.spin360ConfigEnabled}function y(a){return e.isDefinedAndNotEmpty(c.spin360ColorData[a])?
!0:e.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled}function J(){ia&&(m.time("dppc_duration360",Date.now()-C,c.mediaAsin),f.postTimeMetric("dppc_duration360",Date.now()-C),ia=!1)}function Q(a){a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a||(a=c.mediaAsin);return a}var d,c,w,I,D,H,R,S,T,W,ha,ca,Y=!1,oa=!1,X=0,da=0,C=0,Z=0,ka=!1,aa=!1,v=0,ja,la=!0,ia=!1,ba=!0,ea=g.once(function(){p.attachImmersiveViewResizeHandler(G);p.attachImmersiveViewResizeHandler(n);p.attachImmersiveViewResetHandler(J);
p.attachTabDeselectHandler("iv360Tab",J)});return function(b,h,l,n){d=this;c=b;w=h;I=n;b=c.landingAsinColor;h=c.defaultColor;e.isDefined(c.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",p.addStyleCodeToURL(c.staticImages.icon360,"_FMpng_RI_"));t()&&(c.spin360ColorData||(c.spin360ColorData={}),b===h&&e.isDefinedAndEmpty(c.spin360ColorData[h])&&delete c.spin360ColorData[h]);g.on(q.TWISTER_DATA_EVENT,function(a){Q(w.getCurrentItem())===a&&(H=
k.getData(a),L(),a={type:"updatedData",data:w.getCurrentItem()},I.dispatch("updateView",a))});d.render=function(b,d,h,l,n,q){ba=!0;!t()||e.isDefinedAndEmpty(c.spin360ColorData[b])&&!k.getData(Q(w.getCurrentItem()))?p.hideTabHeading("iv360TabHeading"):(c.spin360ColorData[b]=k.getData(Q(w.getCurrentItem())),e.isDefinedAndNotEmpty(c.spin360ColorData[b])?(a("#ivThumbs360").hide(),p.unhideTabHeading("iv360TabHeading"),e.isImmersiveViewEnabled(c,w.getCurrentItem().color)&&t()&&y(b)&&(d===c.maxAlts&&(b=
l.find(".item.imageThumbnail"),d=l.find(".item.videoThumbnail"),e.isDefined(d)&&1<d.length?d.last().remove():b.last().remove()),b=l.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),g.declarative.create(b,"button-360-click"),l.append(b),m.count("dppc_display360",c.mediaAsin),f.postCountMetric("dppc_display360"))):e.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled?(c.spin360ColorData[b]={},p.hideTabHeading("iv360TabHeading"),
A(l,d,b)):p.hideTabHeading("iv360TabHeading"))};d.update=function(a){};p.attachTabSelectHandler("iv360Tab",G)}});u.register("nexusLogger360",function(){return{count:function(g,a){r.ue&&r.ue.event({asin:a,metricName:g,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(g,a,e){r.ue&&r.ue.event({asin:e,metricName:g,metricValue:a},"hit-360","hit360.clientEvent.3")}}});u.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});u.when("A","hit-spin360-constants").register("hit-spin360-feature-data",
function(g,a){var e={};return{setData:function(l){var m=l.asin;e[m]||(e[m]=l,g.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return e[a]}}});"use strict";u.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(g,a){u.register("vse_ns_preLoaderHook",function(){function e(l,m){try{var f=l.A,p=l.block,k=l.request,q=l.handleFailure,n=l.handleSuccess,r=f.$;m--;var u=3-m-1,E=f.now();f.ajax("/vap/ew/componentbuilder",{params:k,paramsFormat:"json",crossDomain:!0,method:"post",
contentType:"application/json",timeout:k.timeout||5E3,withCredentials:!0,success:function(a){var e=f.now()-E;g.postTimeMetric("vse_preLoaderHook:success:",e);g.postCountMetric("vse_preLoaderHook:success:"+k.page+":"+k.placement+":"+u);r(p).html(a);n(f,k,a)},error:function(a){g.postCountMetric("vse_preLoaderHook:error:"+k.page+":"+k.placement+":"+u);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?e(l,m):(g.postCountMetric("vse_preLoaderHook:error:",1),q(f,k,a))}})}catch(x){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",x)}}return{get:function(a,g,f,p,k){e({A:a,block:g,request:f,handleFailure:k,handleSuccess:p},3)}}});u.register("vse_ns_lazyLoaderHook",function(){function e(l,m,f){try{var p=l.A,k=l.context,q=l.handleFailure,n=l.handleSuccess;m.attr("data-configuration");var r=atob(m.attr("data-configuration")),u=JSON.parse(r),E={pageContext:k,configuration:u},x=p.now();f--;var B=3-f-1;p.ajax("/vap/ew/subcomponent/"+u.type,{params:E,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:k.timeout||5E3,withCredentials:!0,success:function(a){var e=p.now()-x;g.postTimeMetric("vse_lazyLoaderHook:success:",e);g.postCountMetric("vse_lazyLoaderHook:success:"+k.page+":"+k.placement+":"+u.type+":"+B);m.html(a);n(p,E,a)},error:function(a){g.postCountMetric("vse_lazyLoaderHook:error:"+k.page+":"+k.placement+":"+u.type+":"+B);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?e(l,m,f):(g.postCountMetric("vse_lazyLoaderHook:error:",1),q(p,E,a))}})}catch(L){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_lazyLoaderHook] ",L)}}return{get:function(a,g,f,p,k){var q=a.$;q(g+" div[data-configuration]").each(function(){e({A:a,context:f,handleFailure:k,handleSuccess:p},q(this),3)})}}});u.register("vse_ns_videoPlayer",function(){function e(l,m,f){try{var p=l.A,k=l.block,q=l.request,n=l.handleFailure,r=l.handleSuccess,u=p.$;f--;var E=3-f-1,x=p.now();p.ajax("/vap/ew/subcomponent/vseplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||
5E3,withCredentials:!0,success:function(a){var e=p.now()-x;g.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);g.postCountMetric("vse_lightPlayerLoaderHook:success:"+q.page+":"+q.placement+":"+E);u(k).html(a);r(p,q,a)},error:function(a){g.postCountMetric("vse_lightPlayerLoaderHook:error:"+q.page+":"+q.placement+":"+E);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?e(l,f):(g.postCountMetric("vse_lightPlayerLoaderHook:error:",1),n(p,q,a))}})}catch(B){a.logError("FATAL","vse_ns_lightPlayer",
"[vse_ns_lightPlayerLoaderHook] ",B)}}return{get:function(a,g,f,p,k){e({A:a,block:g,request:f,handleFailure:k,handleSuccess:p},3)}}})});"use strict";u.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(g,a,e,l,m){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,g=0,q;for(q in a)a[q]&&a[q].length&&(g+=a[q].length);a="image_size_bucket:gt"+f[f.length-1];for(q=1;q<f.length;q++)if(g<=f[q]){a="image_size_bucket:"+f[q-1]+"-"+f[q];break}m.postCountMetric(a);
l.addTag(a)})();(function(){var e=a.colorImages;e&&e.initial&&e.initial.length&&(e=e.initial.length,r.ue&&ue.count&&ue.count("altImageCount",e))})();(function(){var a=e.lazyLoadExperienceDisabled;l.isDefined(e.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),l.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});u.when("A","get-resource-time","postMetric","afterLoad").execute(function(g,a,e){var l=g.state("desktop-landing-image-data");l&&(l=
g.values(l),a=a.getResourceTimeByName("img",l),g.each(a,function(a){a&&(a.responseEnd!=ga&&e.postCountMetric("ibDesktopLandingImageDownloadTime",r.parseInt(a.responseEnd)),a.transferSize!=ga&&(0===a.transferSize?e.postCountMetric("ibDesktopLandingImageCached",1):(e.postCountMetric("ibDesktopLandingImageSizeInBytes",r.parseInt(a.transferSize)),e.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});u.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(g,
a,e,l){function m(e,f){var g=a("\x3cimg src\x3d'"+(f?x.staticImages.shoppableSceneDotHighlighted:x.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");g.css({display:f?"none":"inline-block"});g.addClass("mirai-scene-tag").addClass(f?"active-tag":"inactive-tag");return g}function f(e){var f=a("\x3cspan\x3e");g.each(e.tags,function(e){var k=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});k.append(m(e,!1));k.append(m(e,!0));k.bind("mouseenter",
function(){p(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});g.declarative.create(k,"scenes-show-details-tags-ib",{tagId:e.link});f.append(k)});return f.children()}function p(a){a.addClass("mirai-scene-dot-pulsate");g.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function k(a,e){a.css({display:"none"});e.css({display:"inline-block"})}function q(a,e,f){a.eq(f).css({display:"inline-block"});e.eq(f).css({display:"none"})}function n(a){u.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",
function(){g.trigger("mirai:scene-details-change",{physicalId:a})})}function r(){var e=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),f=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",x.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),g=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");g.html(x.staticStrings.shoppableSceneViewProductsButton);return e.append(f).append(g)[0].outerHTML}function F(a){function e(){a.$tagPlaceholder.replaceWith(m);
var b=m.find(".mirai-scene-tag.active-tag"),f=m.find(".mirai-scene-tag.inactive-tag");q(b,f,0);p(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));L=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});B=!0;l.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var n=a.$viewProductsButton.find(".a-button-text");if(0===n.children().length){n.append(r());g.declarative.create(a.$viewProductsButton,
"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var m=f(a.shoppableScene),h=m.find(".mirai-scene-tag.active-tag"),b=m.find(".mirai-scene-tag.inactive-tag"),z=a.shoppableScene.physicalId,B=!1;g.on("mirai:index:change",function(a){a.scenePhysicalId===z&&(a=a.selectedIndices[0],k(h,b),q(h,b,a),p(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),L=!0)});g.on("mirai:scene-details-change",function(a){a.physicalId!==z||L||(k(h,b),q(h,b,0),p(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
L=!0)});g.on("mirai:no-products-active",function(a){a.scenePhysicalId===z&&k(h,b)});g.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===z&&(k(h,b),q(h,b,0))});g.on("a:image:load:shoppable-scene:"+a.index,function(){B||(e(),l.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});g.on("shoppable-scene-image-loaded",function(b){b.index!=a.index||B||(e(),l.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});u.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){g.trigger("mirai:scene-side-sheet-init",{icons:x.staticImages,strings:x.staticStrings});g.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var E,x,B,L=!1;return function(a,f,g,k){E=this;x=a;B=k;e.isShoppableScenesEnabled()?(B.register("initialize-shoppable-scene",F),E.render=function(a,b,e,f,g,k,l){},E.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):L=!1)}):(a=function(){},E.render=a,E.update=
a)}});u.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(k){var f=window.AmazonUIPageJS||window.P,q=f._namespace||f.attributeErrors,c=q?q("DetailPageShowroomImageBlockAssets",""):f;c.guardFatal?c.guardFatal(k)(c,window):c.execute(function(){k(c,window)})})(function(k,f,q){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(c,r,h,e,g,a){function f(a){a=u.colorToAsin[a.color].asin;
a||(a=u.mediaAsin);return a}var b=void 0,u=void 0,m=void 0,p=void 0,k=void 0,n=void 0,t=void 0;return function(d,w,q,l){q=new Date;b=this;u=d;m=w;p=l;c.on(g.TWISTER_DATA_EVENT,function(a){f(m.getCurrentItem())===a&&(a={type:"updatedData",data:m.getCurrentItem()},p.dispatch("updateView",a))});b.render=function(b,d,r,g,w,q){b=new Date;k=g;n=w.find("#main-showroom-container");n.parent().find("#showroom-canvas-caption");c.$("#main-image-container");try{var v=f(m.getCurrentItem());if(h.isDataValidForAsin(v)){var z=
new Date,l=h.getDataForAsin(v);e.refresh(p,l.asin,l.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-z);if(!q){var x=new Date;e.updateMainImage(n,l.imageData,p);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-x)}var y=new Date;d=e.createThumbnail(u,g,d,l.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-y);var A=new Date;c.$("#ivShowroomTabHeading").removeClass("aok-hidden");
a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-A);if(v!==t){var B=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=a.createShowroomAtfEvent(l.defaultStageId,v,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);t=v;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-B)}}else c.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){c.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,
new Date-b);return d};b.update=function(b){var t=new Date;try{var d=b.data;m.setCurrentEvent(b);if(d.type===g.SHOWROOM_THUMBNAIL_TYPE){var c=new Date;d.interaction=b.type;d.isUserGenerated=!0;if(h.isDataValidForAsin(f(d))){"mouseenter"===d.interaction&&d.type===g.SHOWROOM_THUMBNAIL_TYPE&&e.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER);var l=h.getDataForAsin(f(d)).imageData;e.updateMainImage(n,l,p);e.showShowroomMainImage(n)}u.usePeekHover&&"click"!==b.type||
(r.selectGivenThumbnail(b.$declarativeParent,k),"click"===b.type&&r.useTabbedImmersiveView(u)&&e.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-c)}else d.type!==g.SHOWROOM_MAIN_IMAGE_TYPE&&("swatchHover"===b.type?d.color===m.getCurrentItem().color&&m.getCurrentItem().type===g.SHOWROOM_THUMBNAIL_TYPE?e.showShowroomMainImage(n):e.hideShowroomMainImage(n):e.hideShowroomMainImage(n))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,
new Date-t)};(d=document.getElementById("ivShowroomTabHeading"))&&d.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=h.getDataForAsin(t).defaultStageId;b=a.createShowroomAtfEvent(b,t,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-q)}});"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",
TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_TEXT_T1:"showroom_dp_imageblock_atf_main_image_overlay_text_T1",MAIN_IMAGE_OVERLAY_TEXT_T2:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants",
"showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(c,r,h,e,g,a){function f(n){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var t=a.createShowroomAtfEvent(p,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(t);b(n)}function b(a){a.action="showroomIngressClick";a.data=l;m.dispatch("showroomIngressClick",a)}var k,m,p,l;return{createThumbnail:function(a,b,d,c){d===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),
d--);l={type:"showroomIngress",index:0,thumbnailIndex:d,variant:c.variant};h.createThumbnail({type:g.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:d,variant:c.variant},c.thumb,b,"showroom-imageblock-thumbnail");d++;return d},updateMainImage:function(a,b){var d=a.find("#showroom-main-image");d.length?d.attr("src",b.hiRes):(d=r(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+b.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),d.appendTo(a),
c.declarative.create(a,"showroom-image-action",l),c.declarative("showroom-image-action",["click"],f),"T2"===e.getTreatment()?(d.addClass("t2"),b=a.find("#showroom-main-image-overlay-container-t2"),b.length||(b=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),d=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T2),b=r(('\x3cdiv id\x3d"showroom-main-image-overlay-container-t2"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
b+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
d+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()),b.appendTo(a))):(b=a.find("#showroom-main-image-overlay-container-t1"),b.length||(b=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T1),d=e.getStringValue(g.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),b=r('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t1"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(d?d:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+b+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),b.appendTo(a))))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return r("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIngressClick:b,handleShowroomThumbnailClick:function(c){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var e=a.createShowroomAtfEvent(p,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);b(c)},handleShowroomMainImageClick:f,refresh:function(a,b,d){m=a;k=b;p=d}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(c){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",
TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(c){try{if(f.ue&&c){var h=(f.ue.count(c)||0)+1;f.ue.count(c,h)}}catch(e){}},logValue:function(c,h){try{f.ue&&c&&"number"===typeof h&&f.ue.count(c,h)}catch(e){}},createShowroomAtfEvent:function(f,h,e,g){var a={};a.showroomId=f;a.asin=h;a.eventType=e;a.status=g;a.device=c.capabilities?c.capabilities.isAmazonApp?"AmazonApp":c.capabilities.mobile?"mobile":c.capabilities.tablet?
"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(c){try{f.ue&&f.ue.event&&c&&f.ue.event(c,"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(h){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(c,f){function h(){return g[a]}function e(a){return a in g}var g={},a,k="T1";return{setData:function(b){b&&
b.asin&&b.imageDomain&&b.defaultCollageUrl&&b.defaultStageId&&Array.isArray(b.itemMainImagePhysicalIds)&&(a=b.asin,b.experimentTreatment&&(k=b.experimentTreatment),e(b.asin)||(g[b.asin]=b,c.trigger(f.TWISTER_DATA_EVENT,b.asin)))},getDataForCurrentAsin:h,getDataForAsin:function(a){return g[a]},getStringValue:function(a){return h().displayStrings?h().displayStrings[a]:""},getTreatment:function(){return k},isDataValidForAsin:e}})});
/* ******** */
